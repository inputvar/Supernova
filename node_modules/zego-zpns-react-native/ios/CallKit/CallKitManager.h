#import <Foundation/Foundation.h>
#import "CallKit/CallKit.h"
#import "PushKit/PushKit.h"
#import "../RCTZegoZPNs.h"
#import "../ZPNsUtils.h"

NS_ASSUME_NONNULL_BEGIN

@interface CallKitManager : NSObject<CXProviderDelegate,PKPushRegistryDelegate>

@property(nonatomic,strong) PKPushRegistry *pkPushRegistry;

-(void)hasListeners:(BOOL)hasListeners;

- (void)clearHoldNomalResultArr;

-(BOOL)isContainInitConfig;

-(void)setInitConfig:(NSDictionary *)configMap ctx:(RCTZPNsNativeModule *)ctx;

+(CallKitManager *)getInstance;

+(void)isProduct:(bool) isProduct;

-(void)enableVoIP;

-(void)reportIncomingCallWithTitle:(NSDictionary *)updateMap
                              UUID:(NSString *)uuidString
                          resolver:(RCTPromiseResolveBlock)resolve
                          rejecter:(RCTPromiseRejectBlock)reject;

- (void)reportCallEndedWithUUID:(NSString *)uuidString
                         reason:(CXCallEndedReason)endedReason
                       resolver:(RCTPromiseResolveBlock)resolve
                       rejecter:(RCTPromiseRejectBlock)reject;

-(void)reportCallUpdateWithUUID:(NSDictionary *)updateMap
                           UUID:(NSString *)uuidString
                       resolver:(RCTPromiseResolveBlock)resolve
                       rejecter:(RCTPromiseRejectBlock)reject;

-(void)reportOutgoingCallWithUUID:(NSString *)uuidString
                         resolver:(RCTPromiseResolveBlock)resolve
                         rejecter:(RCTPromiseRejectBlock)reject;

-(void)ActionFail:(NSString *)seq;

-(void)ActionFullFill:(NSString *)seq;

@end

NS_ASSUME_NONNULL_END
