{"version":3,"names":["ZegoUIKitPrebuiltLiveStreaming","props","ref","appID","appSign","userID","userName","liveID","config","plugins","isMinimizeSwitch","MinimizingHelper","getInstance","getIsMinimizeSwitch","notifyEntryNormal","role","undefined","ZegoLiveStreamingRole","audience","Object","assign","ZegoTranslationText","translationText","deviceConfirmDialogInfo","setInitParams","showDefaultDeviceOnDialog","isCamera","formUser","console","log","Promise","resolve","reject","title","message","cancelButtonName","confirmButtonName","Alert","alert","text","onPress","style","audioVideoViewConfig","bottomMenuBarConfig","topMenuBarConfig","memberListConfig","inRoomMessageViewConfig","confirmDialogInfo","onLeaveLiveStreaming","onLeaveLiveStreamingConfirming","onLiveStreamingEnded","onStartLiveButtonPressed","startLiveButtonBuilder","markAsLargeRoom","onCameraTurnOnByOthersConfirmation","bind","onMicrophoneTurnOnByOthersConfirmation","durationConfig","showSoundWavesInAudioMode","useVideoViewAspectFill","foregroundBuilder","showMicrophoneState","showCameraState","itemBuilder","messageItemBuilder","showInRoomMessageButton","hostButtons","ZegoMenuBarButtonName","toggleCameraButton","toggleMicrophoneButton","switchCameraButton","coHostButtons","coHostControlButton","audienceButtons","length","find","plugin","ZIMConnectionState","hostExtendButtons","coHostExtendButtons","audienceExtendButtons","maxCount","buttons","leaveButton","isVisible","onDurationUpdate","stateData","useRef","PrebuiltHelper","getStateData","turnOnCameraWhenJoining","setTurnOnCameraWhenJoining","useState","current","turnOnMicrophoneWhenJoining","setTurnOnMicrophoneWhenJoining","useSpeakerWhenJoining","setUseSpeakerWhenJoining","keyboardHeight","useKeyboard","textInputVisable","setTextInputVisable","textInput","setTextInput","textInputHeight","setTextInputHeight","setRole","hostID","setHostID","liveStatus","setLiveStatus","memberCount","setMemberCount","isMemberListVisable","setIsMemberListVisable","isPluginsInit","setIsPluginsInit","requestCoHostCount","setRequestCoHostCount","memberConnectStateMap","setMemberConnectStateMap","isCoHostDialogVisable","setIsCoHostDialogVisable","coHostDialogExtendedData","setCoHostDialogExtendedData","isToastVisable","setIsToastVisable","toastExtendedData","setToastExtendedData","notifyZegoDialogTrigger","isDialogVisable","dialogExtendedData","setDialogExtendedData","duration","setDuration","callbackID","String","Math","floor","random","hideCountdownOnToastLimit","hideCountdownOnDialogLimit","hideCountdownOnToast","hideCountdownOn_Dialog","hideCountdownOn_DialogTimer","liveStreamingTiming","liveStreamingTimingTimer","realTimeData","getRealTimeData","isIgnore","shouldSortHostAtFirst","debounce","isPageInBackground","isMinimize","getIsMinimize","registerPluginCallback","ZegoUIKit","getPlugin","ZegoUIKitPluginType","signaling","getSignalingPlugin","onInvitationReceived","callID","type","inviter","data","JSON","stringify","ZegoInvitationType","requestCoHost","ZegoToastType","success","receivedRequestCoHostToast","replace","id","ZegoCoHostConnectState","connecting","setTimeout","forceSortMemberList","inviteToCoHost","temp","receivedCoHostInvitationDialogInfo","content","cancelText","okText","onCancel","refuseInvitation","then","idle","turnCameraOn","turnMicrophoneOn","setIsDialogVisableHandle","onOk","acceptInvitation","connected","grantPermissions","error","coHost","removeCoHost","onInvitationCanceled","onInvitationTimeout","onInvitationAccepted","invitee","resetTimer","inviteeID","onInvitationRefused","audienceRejectInvitationToast","onInRoomTextMessageReceived","messageList","warn","unRegisterPluginCallback","initDialogTimer","clearInterval","startDialogTimer","setInterval","visable","startLiveStreamingTimingTimer","useCallback","restart","initLiveStreamingTimingTimer","useImperativeHandle","leave","showConfirmation","tempHandle","leaveRoom","onLeaveLiveStreamingConfirmingWrap","minimizeWindow","useEffect","onRoomStateChanged","isRoomConnected","host","updateRoomProperties","live_status","ZegoLiveStatus","default","onUserJoin","count","getAllUsers","onUserLeave","onRoomPropertiesFullUpdated","keys","oldRoomProperties","roomProperties","onRoomPropertyUpdated","key","oldValue","value","ZegoRoomPropertyUpdateType","remote","parseInt","stopPlayingAllAudioVideo","start","cancelInvitation","forceSortAudioVideoList","startPlayingAllAudioVideo","onUserInfoUpdate","userInfo","isMicDeviceOn","isCameraDeviceOn","onAudioVideoAvailable","userList","forEach","onAudioVideoUnavailable","onTurnOnYourCameraRequest","onTurnOnYourMicrophoneRequest","onMeRemovedFromRoom","onInRoomCommandReceived","fromUser","command","onMicrophoneOn","targetUserID","isOn","onCameraOn","onAudioOutputDeviceChanged","onWindowMinimized","setIsMinimizeSwitch","clearRealTimeData","clearState","clearNotify","ZegoPrebuiltPlugins","init","result","notifyPrebuiltInit","joinRoom","zloginfo","setAudioOutputToSpeaker","uninit","showAudioVideoContainer","showStartLiveButton","showBottomBar","showMessageListView","onFullPageTouch","useInterval","callback","delay","savedCallback","tick","getHostNameByID","getUser","hostName","onMemberButtonPressed","onNavBackPressed","leaveHandle","sortAudioVideo","globalAudioVideoUserList","index","findIndex","splice","unshift","onStartLiveStreaming","showDefaultLeaveDialog","catch","connectStateChangedHandle","changedUserID","connectState","isClosure","coHostDisagreeHandle","coHostAgreeHandle","styles","container","fillParent","cacheAudioVideoUserList","filter","user","isCameraOn","isMicrophoneOn","mode","ZegoLayoutMode","pictureInPicture","removeViewWhenAudioVideoUnavailable","zIndex","noHostBg","require","noHostTips","noHostOnline","topBarContainer","left","hostInfo","show","avatar","nameLabel","getShotName","navBackButton","right","memberButton","memberCountLabel","memberRedDot","startLiveButtonCon","timingContainer","timing","durationFormat","messageListView","invitationType","dismissArea","bottom","Platform","OS","messageInputPannel","height","input","forwardRef","StyleSheet","create","position","width","maxHeight","borderTopLeftRadius","borderTopRightRadius","backgroundColor","flex","alignItems","justifyContent","top","flexDirection","paddingTop","paddingBottom","borderRadius","paddingLeft","paddingRight","marginLeft","display","marginRight","fontSize","color","resizeMode","lineHeight","textAlign"],"sources":["index.tsx"],"sourcesContent":["import React, {\n  useEffect,\n  useState,\n  useRef,\n  useImperativeHandle,\n  forwardRef,\n  useCallback,\n} from 'react';\nimport { Image, Text, ImageBackground, Alert } from 'react-native';\n\nimport {\n  StyleSheet,\n  View,\n  SafeAreaView,\n  Platform,\n  KeyboardAvoidingView,\n  TouchableOpacity,\n} from 'react-native';\nimport ZegoUIKit, {\n  ZegoRoomPropertyUpdateType,\n  ZegoInRoomMessageInput,\n  ZegoInRoomMessageView,\n  ZegoAudioVideoContainer,\n  ZegoLayoutMode,\n  ZegoSwitchCameraButton,\n  ZegoUIKitPluginType,\n} from '@zegocloud/zego-uikit-rn';\nimport ZegoBottomBar from './components/ZegoBottomBar';\nimport { useKeyboard } from './utils/keyboard';\nimport { zloginfo } from './utils/logger';\nimport ZegoMenuBarButtonName from './components/ZegoMenuBarButtonName';\nimport ZegoStartLiveButton from './components/ZegoStartLiveButton';\nimport ZegoLiveStreamingMemberList from './components/ZegoLiveStreamingMemberList';\nimport ZegoCoHostMenuDialog from \"./components/ZegoCoHostMenuDialog\";\nimport ZegoToast from \"./components/ZegoToast\";\nimport ZegoDialog from \"./components/ZegoDialog\";\nimport ZegoPrebuiltPlugins from './services/plugins';\nimport { getShotName, grantPermissions, durationFormat } from './utils';\nimport ZegoAudioVideoForegroundView from './components/ZegoAudioVideoForegroundView';\nimport {\n  HOST_DEFAULT_CONFIG,\n  AUDIENCE_DEFAULT_CONFIG,\n  ZegoLiveStreamingRole,\n  ZegoLiveStatus,\n  ZegoTranslationText,\n  ZegoInvitationType,\n  ZegoCoHostConnectState,\n  ZegoToastType,\n} from \"./services/defines\";\nimport ZegoTopBar from \"./components/ZegoTopBar\";\nimport MinimizingHelper from \"./services/minimizing_helper\";\nimport PrebuiltHelper from \"./services/prebuilt_helper\";\nimport ZegoUIKitPrebuiltLiveStreamingFloatingMinimizedView from \"./components/ZegoUIKitPrebuiltLiveStreamingFloatingMinimizedView\";\n\nexport {\n  ZegoMenuBarButtonName,\n  HOST_DEFAULT_CONFIG,\n  AUDIENCE_DEFAULT_CONFIG,\n  ZegoUIKitPrebuiltLiveStreamingFloatingMinimizedView,\n};\n\n// https://github.com/react-native-community/hooks#usekeyboard\nfunction ZegoUIKitPrebuiltLiveStreaming(props: any, ref: React.Ref<unknown>) {\n  let { appID, appSign, userID, userName, liveID, config, plugins = [] } = props;\n  const isMinimizeSwitch = MinimizingHelper.getInstance().getIsMinimizeSwitch();\n  if (isMinimizeSwitch) {\n    // const initAppInfo = MinimizingHelper.getInstance().getInitAppInfo();\n    // const initUser = MinimizingHelper.getInstance().getInitUser();\n    // const initLiveID = MinimizingHelper.getInstance().getInitRoomID();\n    // const initConfig = MinimizingHelper.getInstance().getInitConfig();\n    // const initPlugins = MinimizingHelper.getInstance().getInitPlugins();\n    // appID = initAppInfo.appID;\n    // appSign = initAppInfo.appSign\n    // userID = initUser.userID;\n    // userName = initUser.userName;\n    // liveID = initLiveID;\n    // config = initConfig;\n    // plugins = initPlugins;\n  } else {\n    MinimizingHelper.getInstance().notifyEntryNormal();\n    config.role === undefined && (config.role = ZegoLiveStreamingRole.audience);\n    Object.assign(ZegoTranslationText, config.translationText || {});\n    config.deviceConfirmDialogInfo === undefined && (config.deviceConfirmDialogInfo = {});\n    MinimizingHelper.getInstance().setInitParams(appID, appSign, userID, userName, liveID, config);\n  }\n  \n  const showDefaultDeviceOnDialog = (isCamera: boolean, formUser: any) => {\n    console.log('########showDefaultDeviceOnDialog', formUser, isCamera);\n    return new Promise<void>((resolve, reject) => {\n      const {\n        title = `${formUser.userID} wants to turn on your ${isCamera ? 'camera' : 'microphone'}`,\n        message = `Are you sure to turn on your ${isCamera ? 'camera' : 'microphone'}?`,\n        cancelButtonName = \"Cancel\",\n        confirmButtonName = \"Confirm\"\n      } = config.deviceConfirmDialogInfo;\n      Alert.alert(\n        title,\n        message,\n        [\n          {\n            text: cancelButtonName,\n            onPress: () => reject(),\n            style: \"cancel\"\n          },\n          {\n            text: confirmButtonName,\n            onPress: () => resolve()\n          }\n        ]\n      );\n    })\n  }\n\n  const {\n    // turnOnCameraWhenJoining = true,\n    // turnOnMicrophoneWhenJoining = true,\n    // useSpeakerWhenJoining = true,\n    audioVideoViewConfig = {},\n    bottomMenuBarConfig = {},\n    topMenuBarConfig = {},\n    memberListConfig = {},\n    inRoomMessageViewConfig = {},\n    confirmDialogInfo = {},\n    onLeaveLiveStreaming,\n    onLeaveLiveStreamingConfirming,\n    onLiveStreamingEnded,\n    onStartLiveButtonPressed,\n    startLiveButtonBuilder,\n    markAsLargeRoom = false,\n    // @ts-ignore\n    onCameraTurnOnByOthersConfirmation = showDefaultDeviceOnDialog.bind(this, true),\n    // @ts-ignore\n    onMicrophoneTurnOnByOthersConfirmation = showDefaultDeviceOnDialog.bind(this, false),\n    durationConfig = {},\n  } = config;\n  const {\n    showSoundWavesInAudioMode = true,\n    useVideoViewAspectFill = true,\n    foregroundBuilder,\n  } = audioVideoViewConfig;\n  const {\n    showMicrophoneState = true,\n    showCameraState = true,\n    itemBuilder,\n  } = memberListConfig;\n  const { itemBuilder: messageItemBuilder } = inRoomMessageViewConfig;\n  const {\n    showInRoomMessageButton = true,\n    hostButtons = [ZegoMenuBarButtonName.toggleCameraButton, ZegoMenuBarButtonName.toggleMicrophoneButton, ZegoMenuBarButtonName.switchCameraButton],\n    coHostButtons = [ZegoMenuBarButtonName.toggleCameraButton, ZegoMenuBarButtonName.toggleMicrophoneButton, ZegoMenuBarButtonName.switchCameraButton, ZegoMenuBarButtonName.coHostControlButton],\n    audienceButtons = plugins && plugins.length && plugins.find((plugin: any) => plugin.ZIMConnectionState) ? [ZegoMenuBarButtonName.coHostControlButton] : [],\n    hostExtendButtons = [],\n    coHostExtendButtons = [],\n    audienceExtendButtons = [],\n    maxCount = 5,\n  } = bottomMenuBarConfig;\n  const {\n    buttons = [ZegoMenuBarButtonName.leaveButton],\n  } = topMenuBarConfig;\n  const {\n    isVisible = true,\n    onDurationUpdate\n  } = durationConfig;\n\n  const stateData = useRef(PrebuiltHelper.getInstance().getStateData());\n\n  const [turnOnCameraWhenJoining, setTurnOnCameraWhenJoining] = \n    useState(\n      stateData.current.turnOnCameraWhenJoining !== undefined ?\n        stateData.current.turnOnCameraWhenJoining :\n        (config.turnOnCameraWhenJoining));\n  const [turnOnMicrophoneWhenJoining, setTurnOnMicrophoneWhenJoining] = \n    useState(\n      stateData.current.turnOnMicrophoneWhenJoining !== undefined ?\n        stateData.current.turnOnMicrophoneWhenJoining :\n        (config.turnOnMicrophoneWhenJoining));\n  const [useSpeakerWhenJoining, setUseSpeakerWhenJoining] = \n    useState(\n      stateData.current.useSpeakerWhenJoining !== undefined ?\n        stateData.current.useSpeakerWhenJoining :\n        (config.useSpeakerWhenJoining));\n\n\n  const keyboardHeight = useKeyboard();\n  const [textInputVisable, setTextInputVisable] = useState(false);\n  const [textInput, setTextInput] = useState(null);\n  const [textInputHeight, setTextInputHeight] = useState(45);\n  const [role, setRole] = useState(stateData.current.role !== undefined ? stateData.current.role : config.role);\n  const [hostID, setHostID] = useState(stateData.current.hostID || '');\n  const [liveStatus, setLiveStatus] = useState(stateData.current.liveStatus !== undefined ? stateData.current.liveStatus : ''); // init: '' default: 0, start: 1\n  const [memberCount, setMemberCount] = useState(stateData.current.memberCount || 1);\n  const [isMemberListVisable, setIsMemberListVisable] = useState(stateData.current.isMemberListVisable || false);\n  const [isPluginsInit, setIsPluginsInit] = useState(false);\n  const [requestCoHostCount, setRequestCoHostCount] = useState(stateData.current.requestCoHostCount || 0);\n  const [memberConnectStateMap, setMemberConnectStateMap] = useState(stateData.current.memberConnectStateMap || {} as any); // The connection status of the current member\n  const [isCoHostDialogVisable, setIsCoHostDialogVisable] = useState(false);\n  const [coHostDialogExtendedData, setCoHostDialogExtendedData] = useState({} as any);\n  const [isToastVisable, setIsToastVisable] = useState(false);\n  const [toastExtendedData, setToastExtendedData] = useState({} as any);\n\n  PrebuiltHelper.getInstance().notifyZegoDialogTrigger(stateData.current.isDialogVisable || false);\n  const [dialogExtendedData, setDialogExtendedData] = useState(stateData.current.dialogExtendedData || {} as any);\n\n  const [duration, setDuration] = useState(stateData.current.duration || 0);\n\n  if (stateData.current.callbackID) {\n    stateData.current.callbackID  = 'ZegoUIKitPrebuiltLiveStreaming' +\n    String(Math.floor(Math.random() * 10000));\n  }\n  const callbackID = stateData.current.callbackID;\n\n  const hideCountdownOnToastLimit = 5;\n  const hideCountdownOnDialogLimit = 60;\n\n  let hideCountdownOnToast = hideCountdownOnToastLimit;\n\n  const hideCountdownOn_Dialog = useRef(hideCountdownOnDialogLimit);\n  const hideCountdownOn_DialogTimer = useRef(null);\n\n  const liveStreamingTiming = useRef(stateData.current.duration || 0);\n  const liveStreamingTimingTimer = useRef(stateData.current.liveStreamingTimingTimer || null);\n\n  const realTimeData = useRef(PrebuiltHelper.getInstance().getRealTimeData()); // Resolve the problem where closures cannot obtain new values, add as needed\n  if (!isMinimizeSwitch) {\n    realTimeData.current.role = config.role;\n  }\n\n  const isIgnore = useRef(false); // Resolved callback delay in receiving room attached message\n  const shouldSortHostAtFirst = useRef(true);\n  const debounce = useRef(false);\n\n  const isPageInBackground = () => {\n    const isMinimize = MinimizingHelper.getInstance().getIsMinimize();\n    console.log('######isPageInBackground', isMinimize);\n    return isMinimize;\n  }\n  const registerPluginCallback = () => {\n    if (ZegoUIKit.getPlugin(ZegoUIKitPluginType.signaling)) {\n      ZegoUIKit.getSignalingPlugin().onInvitationReceived(callbackID, ({ callID, type, inviter, data }: any) => {\n        console.log('[Prebuilt]onInvitationReceived', JSON.stringify(realTimeData.current), requestCoHostCount);\n        if (type === ZegoInvitationType.requestCoHost && userID === realTimeData.current.hostID) {\n          // The audience created a cohost request\n          realTimeData.current.requestCoHostCount += 1;\n          stateData.current.requestCoHostCount = realTimeData.current.requestCoHostCount;\n          setRequestCoHostCount(realTimeData.current.requestCoHostCount);\n\n          setIsToastVisable(true);\n          setToastExtendedData({ type: ZegoToastType.success, text: ZegoTranslationText.receivedRequestCoHostToast.replace('%0', inviter.id) });\n\n          realTimeData.current.memberConnectStateMap[inviter.id] = ZegoCoHostConnectState.connecting;\n          stateData.current.memberConnectStateMap[inviter.id] = ZegoCoHostConnectState.connecting;\n          setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n\n          setTimeout(() => {\n            // The sorting will not be triggered if the member list pop-up is not reopened, the sorting must be forced\n            ZegoUIKit.forceSortMemberList();\n          }, 50);\n        } else if (type === ZegoInvitationType.inviteToCoHost) {\n          // The audience is invited to connect the cohost by host\n          const temp = {\n            title: ZegoTranslationText.receivedCoHostInvitationDialogInfo.title,\n            content: ZegoTranslationText.receivedCoHostInvitationDialogInfo.message,\n            cancelText: ZegoTranslationText.receivedCoHostInvitationDialogInfo.cancelButtonName,\n            okText: ZegoTranslationText.receivedCoHostInvitationDialogInfo.confirmButtonName,\n            onCancel: () => {\n              // Refuse the cohost request of the host\n              ZegoUIKit.getSignalingPlugin().refuseInvitation(inviter.id).then(() => {\n                realTimeData.current.memberConnectStateMap[userID] = ZegoCoHostConnectState.idle;\n                stateData.current.memberConnectStateMap[userID] = ZegoCoHostConnectState.idle;\n                setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n\n                ZegoUIKit.turnCameraOn('', false);\n                ZegoUIKit.turnMicrophoneOn('', false);\n                setIsDialogVisableHandle(false);\n              });\n            },\n            onOk: () => {\n              // Accept the cohost request of the host\n              ZegoUIKit.getSignalingPlugin().acceptInvitation(inviter.id).then(async () => {\n                realTimeData.current.memberConnectStateMap[userID] = ZegoCoHostConnectState.connected;\n                stateData.current.memberConnectStateMap[userID] = ZegoCoHostConnectState.connected;\n                setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n                try {\n                  await grantPermissions();\n                } catch (error) {\n                }\n                ZegoUIKit.turnCameraOn('', true);\n                ZegoUIKit.turnMicrophoneOn('', true);\n                setIsDialogVisableHandle(false);\n\n                setRole(ZegoLiveStreamingRole.coHost);\n                realTimeData.current.role = ZegoLiveStreamingRole.coHost;\n                stateData.current.role = ZegoLiveStreamingRole.coHost;\n              });\n            }\n          }\n          setIsDialogVisableHandle(true);\n          setDialogExtendedData(temp);\n          stateData.current.dialogExtendedData = temp;\n        } else if (type == ZegoInvitationType.removeCoHost) {\n          // The audience was forced off the cohost by host\n          ZegoUIKit.turnCameraOn('', false);\n          ZegoUIKit.turnMicrophoneOn('', false);\n\n          realTimeData.current.memberConnectStateMap[userID] = ZegoCoHostConnectState.idle;\n          stateData.current.memberConnectStateMap[userID] = ZegoCoHostConnectState.idle;\n          setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n\n          setRole(ZegoLiveStreamingRole.audience);\n          realTimeData.current.role = ZegoLiveStreamingRole.audience;\n          stateData.current.role = ZegoLiveStreamingRole.audience;\n        }\n      });\n      ZegoUIKit.getSignalingPlugin().onInvitationCanceled(callbackID, ({ inviter }: any) => {\n        if (userID === realTimeData.current.hostID) {\n          // The audience canceled the cohost request\n          realTimeData.current.requestCoHostCount -= 1;\n          stateData.current.requestCoHostCount = realTimeData.current.requestCoHostCount;\n          setRequestCoHostCount(realTimeData.current.requestCoHostCount);\n\n          realTimeData.current.memberConnectStateMap[inviter.id] = ZegoCoHostConnectState.idle;\n          stateData.current.memberConnectStateMap[inviter.id] = ZegoCoHostConnectState.idle;\n          setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n        }\n      });\n      ZegoUIKit.getSignalingPlugin().onInvitationTimeout(callbackID, ({ inviter }: any) => {\n        if (userID === realTimeData.current.hostID) {\n          // The host did not process the cohost request, resulting in a timeout\n          realTimeData.current.requestCoHostCount -= 1;\n          stateData.current.requestCoHostCount = realTimeData.current.requestCoHostCount;\n          setRequestCoHostCount(realTimeData.current.requestCoHostCount);\n\n          realTimeData.current.memberConnectStateMap[inviter.id] = ZegoCoHostConnectState.idle;\n          stateData.current.memberConnectStateMap[inviter.id] = ZegoCoHostConnectState.idle;\n          setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n        }\n      });\n      ZegoUIKit.getSignalingPlugin().onInvitationAccepted(callbackID, ({ invitee }: any) => {\n        if (userID === realTimeData.current.hostID) {\n          // The audience accept the cohost request\n          realTimeData.current.memberConnectStateMap[invitee.id] = ZegoCoHostConnectState.connected;\n          stateData.current.memberConnectStateMap[invitee.id] = ZegoCoHostConnectState.connected;\n          setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n\n          // Reset invitation timer\n          setCoHostDialogExtendedData({ resetTimer: true, inviteeID: invitee.id});\n        }\n      });\n      ZegoUIKit.getSignalingPlugin().onInvitationRefused(callbackID, ({ invitee }: any) => {\n        if (userID === realTimeData.current.hostID) {\n          // The audience reject the cohost request\n          realTimeData.current.memberConnectStateMap[invitee.id] = ZegoCoHostConnectState.idle;\n          stateData.current.memberConnectStateMap[invitee.id] = ZegoCoHostConnectState.idle;\n          setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n\n          setIsToastVisable(true);\n          setToastExtendedData({ type: ZegoToastType.error, text: ZegoTranslationText.audienceRejectInvitationToast.replace('%0', invitee.id) });\n\n          // Reset invitation timer\n          setCoHostDialogExtendedData({ resetTimer: true, inviteeID: invitee.id });\n        }\n      });\n      ZegoUIKit.getSignalingPlugin().onInRoomTextMessageReceived(callbackID, (messageList: any[]) => {\n        console.warn('[Prebuilt]onInRoomTextMessageReceived', messageList);\n      });\n    }\n  };\n  const unRegisterPluginCallback = () => {\n    if (ZegoUIKit.getPlugin(ZegoUIKitPluginType.signaling)) {\n      ZegoUIKit.getSignalingPlugin().onInvitationReceived(callbackID);\n      ZegoUIKit.getSignalingPlugin().onInvitationCanceled(callbackID);\n      ZegoUIKit.getSignalingPlugin().onInvitationTimeout(callbackID);\n      ZegoUIKit.getSignalingPlugin().onInvitationAccepted(callbackID);\n      ZegoUIKit.getSignalingPlugin().onInvitationRefused(callbackID);\n      ZegoUIKit.getSignalingPlugin().onInRoomTextMessageReceived(callbackID);\n    }\n  };\n\n  const initDialogTimer = () => {\n    clearInterval(hideCountdownOn_DialogTimer.current);\n    (hideCountdownOn_DialogTimer.current as any) = null;\n    (hideCountdownOn_Dialog.current as any) = hideCountdownOnDialogLimit;\n  }\n  const startDialogTimer = () => {\n    clearInterval(hideCountdownOn_DialogTimer.current);\n    (hideCountdownOn_DialogTimer.current as any) = setInterval(() => {\n      if (hideCountdownOn_Dialog.current === 0) {\n        setIsDialogVisableHandle(false);\n      } else {\n        (hideCountdownOn_Dialog.current as any) -= 1;\n      }\n    }, 1000);\n  }\n  const setIsDialogVisableHandle = (visable: boolean) => {\n    if (visable) {\n      startDialogTimer();\n    } else {\n      initDialogTimer();\n      setDialogExtendedData({});\n      stateData.current.dialogExtendedData = {};\n    }\n    PrebuiltHelper.getInstance().notifyZegoDialogTrigger(visable);\n    stateData.current.isDialogVisable = visable;\n  }\n  const startLiveStreamingTimingTimer = useCallback((restart = false) => {\n    console.log('######startLiveStreamingTimingTimer########');\n    if (!isVisible) return;\n    const temp = () => {\n      (liveStreamingTimingTimer.current as any) = setInterval(() => {\n        console.log('########liveStreamingTimingTimer timing', liveStreamingTiming.current); \n        (liveStreamingTiming.current as any) += 1;\n        setDuration(liveStreamingTiming.current);\n        stateData.current.duration = liveStreamingTiming.current;\n        typeof onDurationUpdate === 'function' && onDurationUpdate(liveStreamingTiming.current);\n      }, 1000);\n      stateData.current.liveStreamingTimingTimer = liveStreamingTimingTimer.current;\n    };\n    if (restart) {\n      console.log('########liveStreamingTimingTimer restart timing', liveStreamingTiming.current); \n      clearInterval(liveStreamingTimingTimer.current);\n      temp();\n    } else {\n      if (liveStreamingTimingTimer.current) {\n        // Avoid double timing\n        console.log('########liveStreamingTimingTimer double timing', liveStreamingTiming.current); \n      } else {\n        console.log('########startLiveStreamingTimingTimer');\n        initLiveStreamingTimingTimer();\n        temp();\n      }\n    }\n  }, []);\n  isMinimizeSwitch && startLiveStreamingTimingTimer(true);\n  \n  const initLiveStreamingTimingTimer = () => {\n    console.log('########initLiveStreamingTimingTimer');\n    clearInterval(liveStreamingTimingTimer.current);\n    (liveStreamingTimingTimer.current as any) = null;\n    (liveStreamingTiming.current as any) = 0;\n    setDuration(0);\n    stateData.current.duration = 0;\n    stateData.current.liveStreamingTimingTimer = null;\n  }\n\n  useImperativeHandle(ref, () => ({\n    leave: async (showConfirmation = false) => {\n      if (debounce.current) return;\n      if (!showConfirmation) {\n        (debounce.current as any) = true;\n        await tempHandle();\n        ZegoUIKit.leaveRoom();\n        typeof onLeaveLiveStreaming == 'function' && onLeaveLiveStreaming(liveStreamingTiming.current);\n        (debounce.current as any) = false;\n      } else {\n        (debounce.current as any) = true;\n        onLeaveLiveStreamingConfirmingWrap(onLeaveLiveStreamingConfirming).then(() => {\n          ZegoUIKit.leaveRoom();\n          typeof onLeaveLiveStreaming == 'function' && onLeaveLiveStreaming(liveStreamingTiming.current);\n          (debounce.current as any) = false;\n        });\n      }\n    },\n    minimizeWindow: () => {\n      MinimizingHelper.getInstance().minimizeWindow();\n    },\n  }));\n\n  useEffect(() => {\n    ZegoUIKit.onRoomStateChanged(callbackID, () => {\n      if (ZegoUIKit.isRoomConnected()) {\n        // Anchor set host\n        console.log('########onRoomStateChanged anchor set host', realTimeData.current);\n        if (realTimeData.current.role === ZegoLiveStreamingRole.host && !realTimeData.current.hostID) {\n          ZegoUIKit.updateRoomProperties({ host: userID, live_status: `${ZegoLiveStatus.default}` });\n          // Unequal results update the local value first\n          setHostID(userID);\n          realTimeData.current.hostID = userID;\n          stateData.current.hostID = userID;\n\n          // @ts-ignore\n          setLiveStatus(ZegoLiveStatus.default);\n          realTimeData.current.liveStatus = ZegoLiveStatus.default;\n          stateData.current.liveStatus = ZegoLiveStatus.default;\n          console.log('########onRoomStateChanged anchor set host end', realTimeData.current);\n        }\n      }\n    });\n    ZegoUIKit.onUserJoin(callbackID, () => {\n      const count = ZegoUIKit.getAllUsers().length;\n      stateData.current.memberCount = count;\n      setMemberCount(count);\n    });\n    ZegoUIKit.onUserLeave(callbackID, () => {\n      const count = ZegoUIKit.getAllUsers().length;\n      stateData.current.memberCount = count;\n      setMemberCount(count);\n    });\n    ZegoUIKit.onRoomPropertiesFullUpdated(callbackID, (keys: string[], oldRoomProperties: any, roomProperties: any, type: any) => {\n      console.log('########onRoomPropertiesFullUpdated', keys, oldRoomProperties, roomProperties, type);\n    });\n    ZegoUIKit.onRoomPropertyUpdated(callbackID, (key: string, oldValue: any, value: any, type: any) => {\n      console.log('########onRoomPropertyUpdated', key, oldValue, value, type);\n      // Resolved callback delay in receiving room attached message\n      if (realTimeData.current.role === ZegoLiveStreamingRole.host && type === ZegoRoomPropertyUpdateType.remote) {\n        // Set again, update uikit data\n        console.log('########Set again, update uikit data', userID, realTimeData.current.liveStatus);\n        (isIgnore.current as any) = true;\n        ZegoUIKit.updateRoomProperties({ host: userID, live_status: `${realTimeData.current.liveStatus}` });\n        return;\n      }\n      if (isIgnore.current) {\n        console.log('########onRoomPropertyUpdated ignore');\n        (isIgnore.current as any) = false;\n        return;\n      }\n      if (key === 'host') {\n        setHostID(value);\n        realTimeData.current.hostID = value;\n        stateData.current.hostID = value;\n      } else if (key === 'live_status') {\n        let temp = value ? parseInt(value) : '';\n        if (temp === ZegoLiveStatus.default) {\n          // The live_status is set to 0 before the host enters the room\n          console.log('########onRoomPropertyUpdated Update the reorder identity', true);\n          if (realTimeData.current.role !== ZegoLiveStreamingRole.host) {\n            // When the audience character receives the broadcast notification, stop pull all streams\n            // Uikit is also pulled by default, so you have to stop here as well\n            ZegoUIKit.stopPlayingAllAudioVideo();\n            if (oldValue === `${ZegoLiveStatus.start}`) {\n              // Hide the host's invitation to cohost dialog\n              setIsDialogVisableHandle(false);\n              initLiveStreamingTimingTimer();\n\n              // Cancel the invitation to cohost\n              ZegoUIKit.getSignalingPlugin().cancelInvitation([realTimeData.current.hostID]);\n              ZegoUIKit.turnCameraOn('', false);\n              ZegoUIKit.turnMicrophoneOn('', false);\n\n              // Update role and memberConnectStateMap\n              setRole(ZegoLiveStreamingRole.audience);\n              realTimeData.current.role = ZegoLiveStreamingRole.audience;\n              stateData.current.role = ZegoLiveStreamingRole.audience;\n        \n              realTimeData.current.memberConnectStateMap[userID] = ZegoCoHostConnectState.idle;\n              stateData.current.memberConnectStateMap[userID] = ZegoCoHostConnectState.idle;\n              setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n\n              typeof onLiveStreamingEnded === 'function' && onLiveStreamingEnded(liveStreamingTiming.current);\n            }\n          }\n        } else {\n          // The launch needs to be sorted, with the owner at the top of the list\n          (shouldSortHostAtFirst.current as any) = true;\n          ZegoUIKit.forceSortAudioVideoList();\n\n          ZegoUIKit.startPlayingAllAudioVideo();\n        }\n\n        // @ts-ignore\n        setLiveStatus(temp);\n        if (temp === ZegoLiveStatus.start) {\n          startLiveStreamingTimingTimer();\n        }\n        realTimeData.current.liveStatus = temp;\n        stateData.current.liveStatus = temp;\n      }\n    });\n    ZegoUIKit.onUserInfoUpdate(callbackID, (userInfo: any) => {\n      // This callback is executed before onAudioVideoAvailable and onAudioVideoUnavailable\n      const { userID, isMicDeviceOn, isCameraDeviceOn } = userInfo;\n      if (userID === realTimeData.current.hostID && !isMicDeviceOn && !isCameraDeviceOn) {\n        // Host turn off their cameras and microphones, cohost will fill in the bit, so it needs to be reordered next time\n        console.log('########onAudioVideoUnavailable Update the reorder identity', true);\n        (shouldSortHostAtFirst.current as any) = true;\n      }\n    });\n    ZegoUIKit.onAudioVideoAvailable(callbackID, (userList: any[]) => {\n      console.log('########onAudioVideoAvailable', userList);\n      userList.forEach((userInfo: any) => {\n        // Not in memberConnectStateMap but already connected\n        if (realTimeData.current.hostID !== userInfo.userID) {\n          realTimeData.current.memberConnectStateMap[userInfo.userID] = ZegoCoHostConnectState.connected;\n          stateData.current.memberConnectStateMap[userInfo.userID] = ZegoCoHostConnectState.connected;\n          setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n        }\n      });\n    });\n    ZegoUIKit.onAudioVideoUnavailable(callbackID, (userList: any[]) => {\n      userList.forEach((userInfo) => {\n        if (userInfo.userID === realTimeData.current.hostID) {\n          // Host turn off their cameras and microphones, cohost will fill in the bit, so it needs to be reordered next time\n          // Move to the onUserInfoUpdate callback for processing\n        } else {\n          if (userInfo.userID !== userID) {\n            realTimeData.current.memberConnectStateMap[userInfo.userID] = ZegoCoHostConnectState.idle;\n            stateData.current.memberConnectStateMap[userInfo.userID] = ZegoCoHostConnectState.idle;\n            setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n          } else {\n            // Do not deal with\n          }\n        }\n      })\n    });\n    ZegoUIKit.onTurnOnYourCameraRequest(callbackID, (formUser: any) => {\n      console.log('########onTurnOnYourCameraRequest', formUser);\n      onCameraTurnOnByOthersConfirmation && onCameraTurnOnByOthersConfirmation(formUser).then(async () => {\n        // Allow to open\n        try {\n          await grantPermissions();\n        } catch (error) {\n        }\n        ZegoUIKit.turnCameraOn('', true);\n      });\n    });\n    ZegoUIKit.onTurnOnYourMicrophoneRequest(callbackID, (formUser: any) => {\n      console.log('########onTurnOnYourMicrophoneRequest', formUser);\n      onMicrophoneTurnOnByOthersConfirmation && onMicrophoneTurnOnByOthersConfirmation(formUser).then(async () => {\n        // Allow to open\n        try {\n          await grantPermissions();\n        } catch (error) {\n        }\n        ZegoUIKit.turnMicrophoneOn('', true);\n      });\n    });\n    ZegoUIKit.onMeRemovedFromRoom(callbackID, () => {\n      typeof onLeaveLiveStreaming == 'function' && onLeaveLiveStreaming(liveStreamingTiming.current);\n    });\n    ZegoUIKit.onInRoomCommandReceived(callbackID, (fromUser: any, command: any) => {\n      console.warn('[Prebuilt]onInRoomCommandReceived', fromUser, command);\n    });\n    ZegoUIKit.onMicrophoneOn(callbackID, (targetUserID: string, isOn: boolean) => {\n      if (targetUserID === userID) {\n        console.log('onMicrophoneOn', targetUserID, isOn);\n        stateData.current.turnOnMicrophoneWhenJoining = !!isOn;\n      }\n    });\n    ZegoUIKit.onCameraOn(callbackID, (targetUserID: string, isOn: boolean) => {\n      if (targetUserID === userID) {\n        console.log('onCameraOn', targetUserID, isOn);\n        stateData.current.turnOnCameraWhenJoining = !!isOn;\n      }\n    });\n    ZegoUIKit.onAudioOutputDeviceChanged(callbackID, (type: number) => {\n      console.log('onAudioOutputDeviceChanged', type);\n      stateData.current.useSpeakerWhenJoining = (type === 0);\n    });\n    MinimizingHelper.getInstance().onWindowMinimized(callbackID, () => {\n      // Hidden input box\n      setTextInputVisable(false);\n\n      // Hide toast\n      hideCountdownOnToast = hideCountdownOnToastLimit;\n      setIsToastVisable(false);\n\n      // Hide the invitation and remove box at the bottom\n      setIsCoHostDialogVisable(false);\n      setCoHostDialogExtendedData({});\n    });\n    \n    // Initialize after use\n    MinimizingHelper.getInstance().setIsMinimizeSwitch(false);\n    return () => {\n      const isMinimizeSwitch = MinimizingHelper.getInstance().getIsMinimizeSwitch();\n      if (!isMinimizeSwitch) {\n        ZegoUIKit.onRoomStateChanged(callbackID);\n        ZegoUIKit.onUserJoin(callbackID);\n        ZegoUIKit.onUserLeave(callbackID);\n        ZegoUIKit.onRoomPropertiesFullUpdated(callbackID);\n        ZegoUIKit.onRoomPropertyUpdated(callbackID);\n        ZegoUIKit.onUserInfoUpdate(callbackID);\n        ZegoUIKit.onAudioVideoAvailable(callbackID);\n        ZegoUIKit.onAudioVideoUnavailable(callbackID);\n        ZegoUIKit.onTurnOnYourCameraRequest(callbackID);\n        ZegoUIKit.onTurnOnYourMicrophoneRequest(callbackID);\n        ZegoUIKit.onMeRemovedFromRoom(callbackID);\n        ZegoUIKit.onInRoomCommandReceived(callbackID);\n\n        PrebuiltHelper.getInstance().clearRealTimeData();\n        PrebuiltHelper.getInstance().clearState();\n        PrebuiltHelper.getInstance().clearNotify();\n      }\n    };\n  }, []);\n  useEffect(() => {\n    ZegoPrebuiltPlugins.init(appID, appSign, userID, userName, plugins).then((result: boolean) => {\n      setIsPluginsInit(result);\n      MinimizingHelper.getInstance().notifyPrebuiltInit();\n      // Register plugin callback\n      registerPluginCallback();\n      ZegoPrebuiltPlugins.joinRoom(liveID).then((result: boolean) => {\n        if (result) {\n          zloginfo('[ZegoUIKitPrebuiltLiveStreaming] join room success.');\n        }\n      });\n      ZegoUIKit.init(appID, appSign, { userID: userID, userName: userName }).then(\n        () => {\n          ZegoUIKit.turnCameraOn('', turnOnCameraWhenJoining);\n          ZegoUIKit.turnMicrophoneOn('', turnOnMicrophoneWhenJoining);\n          ZegoUIKit.setAudioOutputToSpeaker(useSpeakerWhenJoining);\n\n          if (config.role === ZegoLiveStreamingRole.host) {\n            grantPermissions(() => {\n              ZegoUIKit.joinRoom(liveID, '', !!markAsLargeRoom);\n            });\n          } else {\n            ZegoUIKit.joinRoom(liveID, '', !!markAsLargeRoom);\n          }\n        }\n      );\n    });\n    // Initialize after use\n    MinimizingHelper.getInstance().setIsMinimizeSwitch(false);\n    return () => {\n      const isMinimizeSwitch = MinimizingHelper.getInstance().getIsMinimizeSwitch();\n      if (!isMinimizeSwitch) {\n        setIsDialogVisableHandle(false);\n        initLiveStreamingTimingTimer();\n        ZegoUIKit.leaveRoom();\n        unRegisterPluginCallback();\n        ZegoPrebuiltPlugins.uninit();\n\n        PrebuiltHelper.getInstance().clearRealTimeData();\n        PrebuiltHelper.getInstance().clearState();\n        PrebuiltHelper.getInstance().clearNotify();\n      }\n    };\n  }, []);\n\n  const showAudioVideoContainer = () => {\n    // @ts-ignore\n    return role === ZegoLiveStreamingRole.host || role !== ZegoLiveStreamingRole.host && liveStatus === ZegoLiveStatus.start;\n  };\n  const showStartLiveButton = () => {\n    // @ts-ignore\n    return role === ZegoLiveStreamingRole.host && hostID && hostID === userID && liveStatus === ZegoLiveStatus.default;\n  };\n  const showBottomBar = () => {\n    // @ts-ignore\n    return role === ZegoLiveStreamingRole.host && hostID && hostID === userID && liveStatus === ZegoLiveStatus.start ||\n    role === ZegoLiveStreamingRole.audience || role === ZegoLiveStreamingRole.coHost;\n  }\n  const showMessageListView = () => {\n    // @ts-ignore\n    return role === ZegoLiveStreamingRole.host && liveStatus === ZegoLiveStatus.start || role !== ZegoLiveStreamingRole.host;\n  }\n  const onFullPageTouch = () => {\n    console.log('####onFullPageTouch####');\n    hideCountdownOnToast = hideCountdownOnToastLimit;\n    setIsToastVisable(false);\n    setTextInputVisable(false);\n    setIsMemberListVisable(false);\n    setIsCoHostDialogVisable(false);\n    setCoHostDialogExtendedData({});\n    setTextInputHeight(45); // It needs to be reinitialized, otherwise the height will be wrong\n\n    stateData.current.isMemberListVisable = false;\n  };\n  const useInterval = (callback: Function, delay: number) => {\n    const savedCallback = useRef();\n    useEffect(() => {\n      (savedCallback.current as any) = callback;\n    }, []);\n    useEffect(() => {\n      function tick() {\n        (savedCallback.current as any)();\n      }\n      if (delay !== null) {\n        const id = setInterval(tick, delay);\n        return () => clearInterval(id);\n      }\n    }, [delay]);\n  }\n  // Close toast on time\n  useInterval(() => {\n    hideCountdownOnToast--;\n    if (hideCountdownOnToast <= 0) {\n      hideCountdownOnToast = hideCountdownOnToastLimit;\n      setIsToastVisable(false);\n      setToastExtendedData({});\n    }\n  }, 1000);\n  const getHostNameByID = (hostID: string) => {\n    const userInfo = ZegoUIKit.getUser(hostID) || { };\n    const hostName = userInfo.userName || '';\n    return hostName;\n  };\n  const onMemberButtonPressed = () => {\n    setTextInputVisable(false);\n    setIsMemberListVisable(true);\n    stateData.current.isMemberListVisable = true;\n  };\n  const onNavBackPressed = () => {\n    const leaveHandle = async () => {\n      // Leave the room\n      ZegoUIKit.leaveRoom();\n      typeof onLeaveLiveStreaming == 'function' && onLeaveLiveStreaming(liveStreamingTiming.current);\n    }\n    const temp = onLeaveLiveStreamingConfirmingWrap(onLeaveLiveStreamingConfirming);\n    if (temp) {\n      temp.then(() => {\n        leaveHandle();\n      })\n    } else {\n      // Reserve cases that do not require confirmation\n      leaveHandle();\n    }\n  };\n  const sortAudioVideo = (globalAudioVideoUserList: any[]) => {\n    console.log('########sortAudioVideo', globalAudioVideoUserList, realTimeData.current.hostID, shouldSortHostAtFirst.current);\n    const index = globalAudioVideoUserList.findIndex((userInfo) => userInfo.userID === realTimeData.current.hostID);\n    if (shouldSortHostAtFirst.current && index !== -1) {\n      // Put host first\n      const temp = globalAudioVideoUserList.splice(index, 1)[0];\n      globalAudioVideoUserList.unshift(temp);\n      // You don't have to deal with the sorting once, because the addition to the internal stream is also added to the end of the queue\n      console.log('########sortAudioVideo Sort completion and update the reorder identity', false);\n      (shouldSortHostAtFirst.current as any) = false;\n    }\n    return globalAudioVideoUserList;\n  };\n  const onStartLiveStreaming = () => {\n    // After the host enters the room and sets the room properties successfully\n    // The host receives the callback of the additional message of the room\n    // You must also set the property host, otherwise host will be null\n    ZegoUIKit.updateRoomProperties({ host: hostID, live_status: `${ZegoLiveStatus.start}` }).then(() => {\n      typeof onStartLiveButtonPressed === 'function' && onStartLiveButtonPressed();\n    });\n  };\n  const showDefaultLeaveDialog = () => {\n    return new Promise<void>((resolve, reject) => {\n      if (!confirmDialogInfo) {\n        resolve();\n      } else {\n        const {\n          title = \"Leave the live streaming\",\n          message = \"Are you sure to leave the live streaming?\",\n          cancelButtonName = \"Cancel\",\n          confirmButtonName = \"Confirm\"\n        } = confirmDialogInfo;\n        Alert.alert(\n          title,\n          message,\n          [\n            {\n              text: cancelButtonName,\n              onPress: () => reject(),\n              style: \"cancel\"\n            },\n            {\n              text: confirmButtonName,\n              onPress: () => resolve()\n            }\n          ]\n        );\n      }\n    })\n  };\n  const tempHandle = async () => {\n    // Intercept confirm \n    if (role === ZegoLiveStreamingRole.host) {\n      // @ts-ignore\n      if (liveStatus === ZegoLiveStatus.start) {\n        // Clear room properties\n        await ZegoUIKit.updateRoomProperties({ live_status: `${ZegoLiveStatus.default}`, host: '' });\n        typeof onLiveStreamingEnded === 'function' && onLiveStreamingEnded(liveStreamingTiming.current);\n      } else {\n        // Clear room properties\n        await ZegoUIKit.updateRoomProperties({ live_status: `${ZegoLiveStatus.default}`, host: '' });\n      }\n    } else if (role === ZegoLiveStreamingRole.coHost) {\n\n    } else {\n      \n    }\n  }\n  const onLeaveLiveStreamingConfirmingWrap = (onLeaveLiveStreamingConfirming: any) => {\n    const temp = onLeaveLiveStreamingConfirming || showDefaultLeaveDialog;\n    return new Promise<void>((resolve, reject) => {\n      temp().then(async () => {\n        await tempHandle();\n        resolve();\n      }).catch(() => {\n        // Intercept confirm cancel\n        reject();\n      });\n    });\n  };\n  const connectStateChangedHandle = (changedUserID: string, connectState: number, isClosure: boolean) => {\n    console.log('#########connectStateChangedHandle', changedUserID, connectState, memberConnectStateMap, realTimeData.current.memberConnectStateMap);\n    // The audience connection status changes\n    changedUserID = changedUserID || userID;\n    const temp = connectState === ZegoCoHostConnectState.connected ? ZegoLiveStreamingRole.coHost : ZegoLiveStreamingRole.audience;\n    if (!isClosure) {\n      // Just take the value in state, because there's no closure\n      memberConnectStateMap[changedUserID] = connectState;\n      // Rerendering causes realTimeData.current to be empty, so a reassignment is required here\n      role !== ZegoLiveStreamingRole.host && (realTimeData.current.role = temp, stateData.current.role = temp);\n      realTimeData.current.memberConnectStateMap = { ...memberConnectStateMap };\n      stateData.current.memberConnectStateMap = { ...memberConnectStateMap };\n\n      role !== ZegoLiveStreamingRole.host && setRole(temp);\n      setMemberConnectStateMap({ ...memberConnectStateMap });\n    } else {\n      // There are closures, status values cannot be used directly\n      realTimeData.current.memberConnectStateMap[changedUserID] = connectState;\n      stateData.current.memberConnectStateMap[changedUserID] = connectState;\n      setMemberConnectStateMap({ ...realTimeData.current.memberConnectStateMap });\n      if (realTimeData.current.role !== ZegoLiveStreamingRole.host) {\n        setRole(temp);\n        realTimeData.current.role = temp;\n        stateData.current.role = temp;\n      }\n    }\n  };\n  const coHostDisagreeHandle = (changedUserID: string) => {\n    // Just take the value in state, because there's no closure\n    memberConnectStateMap[changedUserID] = ZegoCoHostConnectState.idle;\n\n    // Rerendering causes realTimeData.current to be empty, so a reassignment is required here\n    realTimeData.current.requestCoHostCount = requestCoHostCount - 1;\n    stateData.current.requestCoHostCount = realTimeData.current.requestCoHostCount;\n    realTimeData.current.memberConnectStateMap = { ...memberConnectStateMap };\n    stateData.current.memberConnectStateMap = { ...memberConnectStateMap };\n\n    setMemberConnectStateMap({ ...memberConnectStateMap });\n    setRequestCoHostCount(requestCoHostCount - 1);\n  };\n  const coHostAgreeHandle = (changedUserID: string) => {\n    // Just take the value in state, because there's no closure\n    memberConnectStateMap[changedUserID] = ZegoCoHostConnectState.connected;\n  \n    realTimeData.current.requestCoHostCount = requestCoHostCount - 1;\n    stateData.current.requestCoHostCount = realTimeData.current.requestCoHostCount;\n    realTimeData.current.memberConnectStateMap = { ...memberConnectStateMap };\n    stateData.current.memberConnectStateMap = { ...memberConnectStateMap };\n\n    setMemberConnectStateMap({ ...memberConnectStateMap });\n    setRequestCoHostCount(requestCoHostCount - 1);\n  };\n\n  return (\n    <View style={styles.container}>\n      {/* Main frame or background */}\n      <View style={styles.fillParent}>\n        {/* I have to render it first, otherwise I won't get the callbacks */}\n        <ZegoAudioVideoContainer\n          audioVideoConfig={{\n            showSoundWavesInAudioMode: showSoundWavesInAudioMode,\n            useVideoViewAspectFill: useVideoViewAspectFill,\n            cacheAudioVideoUserList: isMinimizeSwitch ?\n              ZegoUIKit.getAllUsers().filter(user => user.userID && (user.isCameraOn || user.isMicrophoneOn)) :\n              null\n          }}\n          layout={{mode: ZegoLayoutMode.pictureInPicture, removeViewWhenAudioVideoUnavailable: true}}\n          sortAudioVideo={sortAudioVideo}\n          foregroundBuilder={foregroundBuilder || (({ userInfo }: any) => <ZegoAudioVideoForegroundView\n            role={role}\n            userInfo={userInfo}\n            localUserID={userID}\n            turnOnCameraWhenJoining={turnOnCameraWhenJoining}\n            turnOnMicrophoneWhenJoining={turnOnMicrophoneWhenJoining}\n            showUserNameOnView={true}\n            showCameraStateOnView={false}\n            showMicrophoneStateOnView={true}\n          />) }\n        />\n        <View style={[styles.fillParent, {zIndex: showAudioVideoContainer() ? -1 : 1}]}>\n          <ImageBackground\n            style={styles.noHostBg}\n            source={require('./resources/background.png')}\n          >\n            <Text style={styles.noHostTips}>{ZegoTranslationText.noHostOnline}</Text>\n          </ImageBackground>\n        </View>\n      </View>\n      {/* Top bar */}\n      <View style={styles.topBarContainer}>\n        <View style={styles.left}>\n          {/* @ts-ignore */}\n          <View style={[styles.hostInfo, (role === ZegoLiveStreamingRole.host && hostID && liveStatus === ZegoLiveStatus.start) || (role !== ZegoLiveStreamingRole.host && hostID) ? styles.show : null]}>\n            <View style={styles.avatar}>\n              <Text style={styles.nameLabel}>\n                {getShotName(getHostNameByID(hostID))}\n              </Text>\n            </View>\n            <Text style={styles.hostName}>{getHostNameByID(hostID)}</Text>\n          </View>\n          {/* Return home */}\n          {/* @ts-ignore */}\n          <TouchableOpacity onPress={onNavBackPressed} style={[styles.navBackButton, (role === ZegoLiveStreamingRole.host && hostID && liveStatus !== ZegoLiveStatus.start) ? styles.show : null]}>\n            <Image resizeMode='contain' source={require('./resources/icon_nav_back.png')} />\n          </TouchableOpacity>\n        </View>\n        <View style={styles.right}>\n          {\n            // @ts-ignore\n            role === ZegoLiveStreamingRole.host && liveStatus === ZegoLiveStatus.start || role !== ZegoLiveStreamingRole.host ? <TouchableOpacity onPress={onMemberButtonPressed}>\n              <View style={styles.memberButton}>\n                <Image source={require('./resources/white_top_button_member.png')} />\n                <Text style={styles.memberCountLabel}>{memberCount}</Text>\n                { requestCoHostCount ? <View style={styles.memberRedDot}></View> : null }\n              </View>\n            </TouchableOpacity> : null\n          }\n          {\n            // @ts-ignore\n            role === ZegoLiveStreamingRole.host && liveStatus === ZegoLiveStatus.start || role !== ZegoLiveStreamingRole.host ? <ZegoTopBar\n              menuBarButtons={buttons}\n              onLeave={() => {\n                onLeaveLiveStreaming(liveStreamingTiming.current);\n              }}\n              onLeaveConfirmation={onLeaveLiveStreamingConfirmingWrap.bind(this, onLeaveLiveStreamingConfirming)}\n            /> : null\n          }\n          {\n            // @ts-ignore\n            role === ZegoLiveStreamingRole.host && hostID && hostID === userID && (liveStatus === ZegoLiveStatus.default || liveStatus === ZegoLiveStatus.default) ? <View style={styles.switchCameraButton}>\n              <ZegoSwitchCameraButton\n                iconFrontFacingCamera={require('./resources/icon_nav_flip.png')}\n                iconBackFacingCamera={require('./resources/icon_nav_flip.png')}\n                width={36}\n                height={36}\n              />\n            </View> : null\n          }\n        </View>\n      </View>\n      {/* Start live button */}\n      {\n        showStartLiveButton() ? <View style={styles.startLiveButtonCon}>\n          {\n            startLiveButtonBuilder ? startLiveButtonBuilder(onStartLiveStreaming) : <ZegoStartLiveButton onPressed={onStartLiveStreaming} />\n          }\n        </View> : null\n      }\n      {/* Timing */}\n      {\n        // @ts-ignore\n        isVisible && liveStatus === ZegoLiveStatus.start ? <SafeAreaView style={styles.timingContainer}>\n          <Text style={styles.timing}>{durationFormat(duration)}</Text>\n        </SafeAreaView> : null\n      }\n      {/* Message list */}\n      {\n        showMessageListView() ? <View style={styles.messageListView}>\n          <ZegoInRoomMessageView itemBuilder={messageItemBuilder} style={styles.fillParent} />\n        </View> : null\n      }\n      {/* Member list */}\n      {\n        isMemberListVisable ?\n          <ZegoLiveStreamingMemberList\n            isPluginsInit={isPluginsInit}\n            showMicrophoneState={showMicrophoneState}\n            showCameraState={showCameraState}\n            itemBuilder={itemBuilder}\n            onCloseMemberList={() => {\n              setIsMemberListVisable(false);\n              stateData.current.isMemberListVisable = false;\n            }}\n            hostID={hostID}\n            memberCount={memberCount}\n            memberConnectStateMap={memberConnectStateMap}\n            onCoHostDisagree={coHostDisagreeHandle}\n            onCoHostAgree={coHostAgreeHandle}\n            onConnectStateChanged={connectStateChangedHandle}\n            setIsToastVisable={(visable: boolean) => setIsToastVisable(visable)}\n            setToastExtendedData={(toastExtendedData: any) => setToastExtendedData(toastExtendedData)}\n            setIsCoHostDialogVisable={(visable: boolean) => setIsCoHostDialogVisable(visable)}\n            setCoHostDialogExtendedData={(coHostDialogExtendedData: any) => setCoHostDialogExtendedData(coHostDialogExtendedData)}\n          /> : null\n      }\n      {/* Cohost dialog */}\n      <ZegoCoHostMenuDialog\n        visable={isCoHostDialogVisable}\n        inviteeID={coHostDialogExtendedData.inviteeID}\n        invitationType={coHostDialogExtendedData.invitationType}\n        onCancel={coHostDialogExtendedData.onCancel}\n        onOk={coHostDialogExtendedData.onOk}\n        setIsToastVisable={(visable: boolean) => setIsToastVisable(visable)}\n        setToastExtendedData={(toastExtendedData: any) => setToastExtendedData(toastExtendedData)}\n        resetTimer={coHostDialogExtendedData.resetTimer}\n      />\n      {/* Common toast */}\n      <ZegoToast\n        visable={isToastVisable}\n        text={toastExtendedData.text}\n        type={toastExtendedData.type}\n      />\n      <ZegoDialog\n        title={dialogExtendedData.title}\n        content={dialogExtendedData.content}\n        cancelText={dialogExtendedData.cancelText}\n        okText={dialogExtendedData.okText}\n        onCancel={dialogExtendedData.onCancel}\n        onOk={dialogExtendedData.onOk}\n      />\n      {/* Click in full screen to collapse the input box */}\n      <View\n        pointerEvents=\"auto\"\n        onTouchStart={onFullPageTouch}\n        style={[\n          styles.dismissArea,\n          {\n            bottom:\n              (Platform.OS == 'ios'\n                ? keyboardHeight + textInputHeight\n                : textInputHeight) + 40,\n          },\n        ]}\n      />\n      {/* Bottom bar */}\n      {\n        showBottomBar() ? <KeyboardAvoidingView\n            style={[styles.fillParent, { zIndex: 9 }]}\n            behavior={'padding'}\n          >\n            {Platform.OS != 'ios' && keyboardHeight > 0 ? null : (\n              <ZegoBottomBar\n                menuBarButtonsMaxCount={maxCount}\n                menuBarButtons={\n                  role === ZegoLiveStreamingRole.host ?\n                  hostButtons :\n                    role === ZegoLiveStreamingRole.audience ?\n                    audienceButtons :\n                      role === ZegoLiveStreamingRole.coHost ? \n                      coHostButtons : []\n                }\n                menuBarExtendedButtons={\n                  role === ZegoLiveStreamingRole.host ?\n                  hostExtendButtons :\n                    role === ZegoLiveStreamingRole.audience ?\n                    audienceExtendButtons :\n                      role === ZegoLiveStreamingRole.coHost ? \n                      coHostExtendButtons : []\n                }\n                turnOnCameraWhenJoining={turnOnCameraWhenJoining}\n                turnOnMicrophoneWhenJoining={turnOnMicrophoneWhenJoining}\n                useSpeakerWhenJoining={useSpeakerWhenJoining}\n                showInRoomMessageButton={showInRoomMessageButton}\n                onLeaveLiveStreaming={() => {\n                  onLeaveLiveStreaming(liveStreamingTiming.current);\n                }}\n                // @ts-ignore\n                onLeaveLiveStreamingConfirming={onLeaveLiveStreamingConfirmingWrap.bind(this, onLeaveLiveStreamingConfirming)}\n                onMessageButtonPress={() => { setTextInputVisable(true) }}\n                onConnectStateChanged={connectStateChangedHandle}\n                setIsToastVisable={(visable: boolean) => setIsToastVisable(visable)}\n                setToastExtendedData={(toastExtendedData: any) => setToastExtendedData(toastExtendedData)}\n                setIsDialogVisable={setIsDialogVisableHandle}\n                setDialogExtendedData={(dialogExtendedData: any) => {\n                  setDialogExtendedData(dialogExtendedData);\n                  stateData.current.dialogExtendedData = dialogExtendedData;\n                }}\n                isPluginsInit={isPluginsInit}\n                userID={userID}\n                hostID={hostID}\n                liveStatus={liveStatus}\n                memberConnectState={memberConnectStateMap[userID]}\n              />\n            )}\n            {textInputVisable ? (\n              <View\n                style={[\n                  styles.messageInputPannel,\n                  {\n                    bottom: Platform.OS == 'ios' ? keyboardHeight : 0,\n                    height: textInputHeight,\n                  },\n                ]}\n              >\n                <ZegoInRoomMessageInput\n                  ref={(input: any) => {\n                    setTextInput(input);\n                  }}\n                  // @ts-ignore\n                  onContentSizeChange={(height: number) => {\n                    // setTextInputHeight(height);\n                  }}\n                  placeholder={'Say something...'}\n                  onSumit={() => {\n                    setTextInputVisable(false);\n                  }}\n                />\n              </View>\n            ) : null}\n        </KeyboardAvoidingView> : null\n      }\n    </View>\n  );\n}\n\nexport default forwardRef(ZegoUIKitPrebuiltLiveStreaming);\n\nconst styles = StyleSheet.create({\n  messageListView: {\n    position: 'absolute',\n    left: 16,\n    bottom: 80,\n    width: 270,\n    maxHeight: 200,\n    zIndex: 12,\n  },\n  messageInputPannel: {\n    position: 'absolute',\n    borderTopLeftRadius: 12,\n    borderTopRightRadius: 12,\n    backgroundColor: 'rgba(0, 0, 0, 0.7500)',\n    width: '100%',\n    zIndex: 11,\n  },\n  container: {\n    flex: 1,\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    zIndex: 0,\n  },\n  fillParent: {\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n  },\n  topBarContainer: {\n    position: 'absolute',\n    top: 32,\n    zIndex: 10,\n    flexDirection: 'row',\n    alignItems: 'center',\n    width: '100%',\n    justifyContent: 'space-between',\n    paddingTop: 3,\n    paddingBottom: 3,\n  },\n  left: {\n    flexDirection: 'row',\n    alignItems: \"center\",\n  },\n  right: {\n    flexDirection: 'row',\n    alignItems: \"center\",\n  },\n  hostInfo: {\n    flexDirection: 'row',\n    backgroundColor: 'rgba(30, 39, 64, 0.4)',\n    borderRadius: 1000,\n    paddingLeft: 3,\n    paddingRight: 12,\n    paddingTop: 3,\n    paddingBottom: 3,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginLeft: 16,\n    display: 'none',\n  },\n  show: {\n    display: 'flex',\n  },\n  avatar: {\n    backgroundColor: '#ffffff',\n    borderRadius: 1000,\n    width: 28,\n    height: 28,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 6,\n    marginLeft: 3,\n  },\n  nameLabel: {\n    fontSize: 18,\n    color: '#2A2A2A',\n  },\n  hostName: {\n    color: '#FFFFFF',\n    fontSize: 14,\n  },\n  navBackButton: {\n    marginLeft: 20,\n    display: 'none',\n    paddingLeft: 6,\n    paddingRight: 6,\n    paddingTop: 6,\n    paddingBottom: 6,\n  },\n  leaveButton: {\n    marginRight: 10,\n  },\n  switchCameraButton: {\n    marginRight: 16,\n  },\n  memberButton: {\n    width: 53,\n    height: 28,\n    backgroundColor: 'rgba(30, 39, 64, 0.4000)',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 17,\n    marginRight: 2,\n  },\n  memberCountLabel: {\n    fontSize: 14,\n    color: 'white',\n    marginLeft: 3,\n  },\n  memberRedDot: {\n    backgroundColor: '#FF0D23',\n    borderRadius: 1000,\n    width: 8,\n    height: 8,\n    position: 'absolute',\n    right: 0,\n    top: 0,\n  },\n  startLiveButtonCon: {\n    position: 'absolute',\n    width: '100%',\n    zIndex: 12,\n    bottom: 48.5,\n    alignItems: 'center',\n  },\n  dismissArea: {\n    zIndex: 11,\n    width: '100%',\n    top: 80,\n    position: 'absolute',\n  },\n  noHostBg: {\n    flex: 1,\n    resizeMode: 'cover',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  noHostTips: {\n    width: 330,\n    height: 90,\n    fontSize: 14,\n    lineHeight: 45,\n    color: 'white',\n    textAlign: 'center',\n  },\n  timingContainer: {\n    position: 'absolute',\n    top: 6,\n    zIndex: 11,\n  },\n  timing: {\n    color: 'white',\n  }\n});\n"],"mappings":"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"}