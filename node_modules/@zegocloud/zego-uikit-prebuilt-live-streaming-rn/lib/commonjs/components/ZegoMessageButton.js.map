{"version":3,"names":["ZegoMessageButton","props","userID","hostID","onPress","width","height","icon","require","isChatOn","setIsChatOn","useState","useEffect","callbackID","String","Math","floor","random","ZegoUIKit","onRoomPropertyUpdated","key","oldValue","value","parseInt","opacity","nativeEvent","source","console","log"],"sources":["ZegoMessageButton.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { TouchableOpacity, Image} from \"react-native\"\nimport ZegoUIKit from '@zegocloud/zego-uikit-rn';\n\nexport default function ZegoMessageButton(props: any) {\n    const {\n        userID,\n        hostID,\n        onPress,\n        width = 36,\n        height = 36,\n        icon = require('../resources/white_bottom_button_chat_on.png'),\n    } = props;\n    const [isChatOn, setIsChatOn] = useState(true);\n\n    useEffect(() => {\n        const callbackID = 'ZegoMessageButton' + String(Math.floor(Math.random() * 10000));\n        ZegoUIKit.onRoomPropertyUpdated(callbackID, (key: string, oldValue: any, value: any) => {\n            if (key === 'enableChat' && value && userID !== hostID) {\n                setIsChatOn(!!parseInt(value));\n            }\n        });\n        return () => {\n            ZegoUIKit.onRoomPropertyUpdated(callbackID);\n        }\n    }, []);\n\n    return (\n        <TouchableOpacity style={{ width: width, height: height, opacity: isChatOn ? 1 : 0.7 }}\n            onPress={onPress}\n            disabled={!isChatOn}>\n            <Image\n                resizeMode='contain'\n                source={isChatOn ? icon : require('../resources/white_bottom_button_chat_off.png')}\n                onLoad={({nativeEvent: {source: {width, height}}}) => console.log('>>>>>', width, height)}\n                style={{ width: \"100%\", height: \"100%\" }} />\n        </TouchableOpacity>)\n}\n"],"mappings":";;;;;;AAAA;AACA;AACA;AAAiD;AAAA;AAAA;AAElC,SAASA,iBAAiB,CAACC,KAAU,EAAE;EAClD,MAAM;IACFC,MAAM;IACNC,MAAM;IACNC,OAAO;IACPC,KAAK,GAAG,EAAE;IACVC,MAAM,GAAG,EAAE;IACXC,IAAI,GAAGC,OAAO,CAAC,8CAA8C;EACjE,CAAC,GAAGP,KAAK;EACT,MAAM,CAACQ,QAAQ,EAAEC,WAAW,CAAC,GAAG,IAAAC,eAAQ,EAAC,IAAI,CAAC;EAE9C,IAAAC,gBAAS,EAAC,MAAM;IACZ,MAAMC,UAAU,GAAG,mBAAmB,GAAGC,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAG,KAAK,CAAC,CAAC;IAClFC,oBAAS,CAACC,qBAAqB,CAACN,UAAU,EAAE,CAACO,GAAW,EAAEC,QAAa,EAAEC,KAAU,KAAK;MACpF,IAAIF,GAAG,KAAK,YAAY,IAAIE,KAAK,IAAIpB,MAAM,KAAKC,MAAM,EAAE;QACpDO,WAAW,CAAC,CAAC,CAACa,QAAQ,CAACD,KAAK,CAAC,CAAC;MAClC;IACJ,CAAC,CAAC;IACF,OAAO,MAAM;MACTJ,oBAAS,CAACC,qBAAqB,CAACN,UAAU,CAAC;IAC/C,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,oBACI,6BAAC,6BAAgB;IAAC,KAAK,EAAE;MAAER,KAAK,EAAEA,KAAK;MAAEC,MAAM,EAAEA,MAAM;MAAEkB,OAAO,EAAEf,QAAQ,GAAG,CAAC,GAAG;IAAI,CAAE;IACnF,OAAO,EAAEL,OAAQ;IACjB,QAAQ,EAAE,CAACK;EAAS,gBACpB,6BAAC,kBAAK;IACF,UAAU,EAAC,SAAS;IACpB,MAAM,EAAEA,QAAQ,GAAGF,IAAI,GAAGC,OAAO,CAAC,+CAA+C,CAAE;IACnF,MAAM,EAAE;MAAA,IAAC;QAACiB,WAAW,EAAE;UAACC,MAAM,EAAE;YAACrB,KAAK;YAAEC;UAAM;QAAC;MAAC,CAAC;MAAA,OAAKqB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEvB,KAAK,EAAEC,MAAM,CAAC;IAAA,CAAC;IAC1F,KAAK,EAAE;MAAED,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAO;EAAE,EAAG,CACjC;AAC3B"}