{"version":3,"names":["Platform","PermissionsAndroid","getShotName","name","nl","split","shotName","forEach","part","substring","grantPermissions","callback","OS","grantedAudio","check","PERMISSIONS","RECORD_AUDIO","grantedCamera","CAMERA","ungrantedPermissions","isAudioGranted","isVideoGranted","push","error","requestMultiple","then","durationFormat","duration","s","m","h","parseInt","result","getMethodReturnValue","func","catch","temp"],"sources":["index.ts"],"sourcesContent":["import { Platform, PermissionsAndroid, Permission } from 'react-native';\n\nconst getShotName = (name: string | undefined) => {\n    if (!name) {\n        return '';\n    }\n    const nl = name.split(' ');\n    var shotName = '';\n    nl.forEach((part) => {\n        if (part !== '') {\n            shotName += part.substring(0, 1);\n        }\n    });\n    return shotName;\n};\n\nconst grantPermissions = async (callback?: () => void) => {\n    // Android: Dynamically obtaining device permissions\n    if (Platform.OS === 'android') {\n        // Check if permission granted\n        let grantedAudio = PermissionsAndroid.check(\n            PermissionsAndroid.PERMISSIONS.RECORD_AUDIO as Permission\n        );\n        let grantedCamera = PermissionsAndroid.check(\n            PermissionsAndroid.PERMISSIONS.CAMERA as Permission\n        );\n        const ungrantedPermissions = [] as Permission[];\n        try {\n            const isAudioGranted = await grantedAudio;\n            const isVideoGranted = await grantedCamera;\n            if (!isAudioGranted) {\n                ungrantedPermissions.push(\n                    PermissionsAndroid.PERMISSIONS.RECORD_AUDIO as Permission\n                );\n            }\n            if (!isVideoGranted) {\n                ungrantedPermissions.push(PermissionsAndroid.PERMISSIONS.CAMERA as Permission);\n            }\n        } catch (error) {\n            ungrantedPermissions.push(\n                PermissionsAndroid.PERMISSIONS.RECORD_AUDIO as Permission,\n                PermissionsAndroid.PERMISSIONS.CAMERA as Permission\n            );\n        }\n        // If not, request it\n        return PermissionsAndroid.requestMultiple(ungrantedPermissions).then(\n            () => {\n                if (callback) {\n                    callback();\n                }\n            }\n        );\n    } else if (callback) {\n        callback();\n    }\n};\n\nconst durationFormat = (duration: number) => {\n    let s = duration || 0;\n    let m = 0;\n    let h = 0;\n    if (s >= 60) {\n        m = parseInt(`${s / 60}`);\n        s = parseInt(`${s % 60}`);\n        if (m >= 60) {\n            h = parseInt(`${m / 60}`);\n            m = parseInt(`${m % 60}`);\n        }\n    }\n    let result = `${s}`;\n    if (s < 10) {\n        result = `0${result}`;\n    }\n    if (m > 0) {\n        result = `${m}:${result}`;\n        if (m < 10) {\n            result = `0${result}`;\n        }\n    } else {\n        result = `00:${result}`;\n    }\n    if (h > 0) {\n        result = `${h}:${result}`;\n        if (h < 10) {\n            result = `0${result}`;\n        }\n    } else {\n        // result = `00:${result}`;\n    }\n    return result;\n}\n\nconst getMethodReturnValue = async (func? : Function | Promise<boolean>) => {\n    let result = true;\n    if (func) {\n        if (typeof func === 'object' && typeof (func.then) === 'function' && typeof (func.catch) === 'function') {\n          // Promise\n          try {\n            result = await func;\n          } catch (error) {\n            result = false;\n          }\n        } else if (typeof func === 'function') {\n          const temp = func();\n          if (typeof temp === 'object' && typeof (temp.then) === 'function' && typeof (temp.catch) === 'function') {\n            try {\n              result = await temp;\n            } catch (error) {\n              result = false;\n            }\n          } else {\n            result = temp;\n          }\n        }\n    }\n    return result;\n}\n\nexport { getShotName, grantPermissions, durationFormat, getMethodReturnValue };\n"],"mappings":"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"}