{"version":3,"names":["_room_properties_core","_interopRequireDefault","require","_class","obj","__esModule","default","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","ZegoPluginRoomPropertiesService","constructor","shared","getInstance","updateRoomProperty","isDeleteAfterOwnerLeft","isForce","arguments","length","isUpdateOwner","attributes","config","ZegoPluginRoomPropertiesCore","deleteRoomProperties","keys","beginRoomPropertiesBatchOperation","endRoomPropertiesBatchOperation","queryRoomProperties","onRoomPropertyUpdated","callbackID","callback","onInRoomTextMessageReceived","exports"],"sources":["room_properties_service.ts"],"sourcesContent":["import type { ZIMMessage, ZIMRoomAttributesUpdateInfo } from 'zego-zim-react-native';\nimport ZegoPluginRoomPropertiesCore from '../core/room_properties_core';\n\nexport default class ZegoPluginRoomPropertiesService {\n  static shared: ZegoPluginRoomPropertiesService;\n  constructor() {\n    if (!ZegoPluginRoomPropertiesService.shared) {\n      ZegoPluginRoomPropertiesService.shared = this;\n    }\n    return ZegoPluginRoomPropertiesService.shared;\n  }\n  static getInstance() {\n    if (!ZegoPluginRoomPropertiesService.shared) {\n      ZegoPluginRoomPropertiesService.shared =\n        new ZegoPluginRoomPropertiesService();\n    }\n    return ZegoPluginRoomPropertiesService.shared;\n  }\n  updateRoomProperty(\n    key: string,\n    value: string,\n    isDeleteAfterOwnerLeft: boolean,\n    isForce = false,\n    isUpdateOwner = false\n  ) {\n    const attributes = { [key]: value };\n    const config = {\n      isForce,\n      isDeleteAfterOwnerLeft,\n      isUpdateOwner,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().updateRoomProperty(\n      attributes,\n      config\n    );\n  }\n  deleteRoomProperties(keys: string[] = [], isForce: boolean) {\n    const config = {\n      isForce,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().deleteRoomProperties(\n      keys,\n      config\n    );\n  }\n  beginRoomPropertiesBatchOperation(\n    isDeleteAfterOwnerLeft = false,\n    isForce = false,\n    isUpdateOwner = false\n  ) {\n    const config = {\n      isDeleteAfterOwnerLeft,\n      isForce,\n      isUpdateOwner,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().beginRoomPropertiesBatchOperation(\n      config\n    );\n  }\n  endRoomPropertiesBatchOperation() {\n    return ZegoPluginRoomPropertiesCore.getInstance().endRoomPropertiesBatchOperation();\n  }\n  queryRoomProperties() {\n    return ZegoPluginRoomPropertiesCore.getInstance().queryRoomProperties();\n  }\n  onRoomPropertyUpdated(callbackID: string, callback: (notifyData: ZIMRoomAttributesUpdateInfo) => void) {\n    ZegoPluginRoomPropertiesCore.getInstance().onRoomPropertyUpdated(\n      callbackID,\n      callback\n    );\n  }\n  onInRoomTextMessageReceived(callbackID: string, callback: (notifyData: { messageList: ZIMMessage[]; fromConversationID: string }) => void) {\n    ZegoPluginRoomPropertiesCore.getInstance().onInRoomTextMessageReceived(\n      callbackID,\n      callback\n    );\n  }\n}\n"],"mappings":"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"}