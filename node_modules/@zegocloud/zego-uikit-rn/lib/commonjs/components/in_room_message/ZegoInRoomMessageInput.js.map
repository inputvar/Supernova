{"version":3,"names":["_react","_interopRequireDefault","require","_reactNative","_ZegoUIKitInternal","obj","__esModule","default","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","ZegoInRoomMessageInput","React","Component","constructor","props","textInput","createRef","state","textInputHeight","contentWidth","currentText","iconPath","enable","iconSend","disable","iconSendDisable","focus","current","blur","clear","setState","onContentSizeChange","_sumit","ZegoUIKitInternal","sendInRoomMessage","onSumit","render","createElement","View","style","styles","container","height","backgroundColor","textInputContainer","TextInput","ref","blurOnSubmit","multiline","autoFocus","editable","selectionColor","placeholder","placeholderTextColor","_ref","nativeEvent","contentSize","width","h","Platform","OS","onChangeText","text","onSubmitEditing","TouchableOpacity","sendButton","onPress","Image","resizeMode","icon","source","_default","exports","StyleSheet","create","position","right","bottom","justifyContent","alignItems","color","paddingTop","paddingBottom","marginLeft","paddingRight","borderTopLeftRadius","borderTopRightRadius"],"sources":["ZegoInRoomMessageInput.tsx"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, View, TextInput, Image, TouchableOpacity, Platform } from 'react-native';\nimport ZegoUIKitInternal from '../internal/ZegoUIKitInternal';\n\n// https://github.com/react-native-community/hooks#usekeyboard\nclass ZegoInRoomMessageInput extends React.Component {\n    textInput: any;\n    iconPath: any;\n    state: any;\n    constructor(props: any) {\n        super(props);\n        this.textInput = React.createRef();\n        this.state = {\n            textInputHeight: 45,\n            contentWidth: 0,\n            currentText: \"\"\n        };\n        this.iconPath = {\n            // @ts-ignore\n            enable: this.props.iconSend ? this.props.iconSend : require('../internal/resources/white_button_send_in_room_message_enable.png'),\n            // @ts-ignore\n            disable: this.props.iconSendDisable ? this.props.iconSendDisable : (this.props.iconSend ? this.props.iconSend : require('../internal/resources/white_button_send_in_room_message_disable.png'))\n        }\n    }\n\n    focus() {\n        this.textInput.current.focus();\n    }\n    blur() {\n        this.textInput.current.blur();\n    }\n    clear() {\n        this.textInput.current.clear();\n        this.setState({ textInputHeight: 45, contentWidth: 0, currentText: \"\" })\n        // @ts-ignore\n        if (typeof this.props.onContentSizeChange == 'function') {\n            // @ts-ignore\n            this.props.onContentSizeChange(0, 45);\n        }\n    }\n    _sumit() {\n        if (this.state.currentText != '') {\n            ZegoUIKitInternal.sendInRoomMessage(this.state.currentText);\n            this.clear();\n            this.blur();\n            // @ts-ignore\n            if (typeof this.props.onSumit == 'function') {\n                // @ts-ignore\n                this.props.onSumit();\n            }\n        }\n    }\n\n    render() {\n        return (\n            // @ts-ignore\n            <View style={[styles.container, { height: this.state.textInputHeight, backgroundColor: this.props.backgroundColor ? this.props.backgroundColor : 'rgba(0, 0, 0, 0.7500)' }]} >\n                <View style={styles.textInputContainer}>\n                    <TextInput\n                        ref={this.textInput}\n                        style={[styles.textInput]}\n                        blurOnSubmit={true}\n                        multiline={true}\n                        autoFocus={true}\n                        // @ts-ignore\n                        editable={this.props.enable ? this.props.enable : true}\n                        selectionColor={'#A653FF'}\n                        // @ts-ignore\n                        placeholder={this.props.placeholder ? this.props.placeholder : ''}\n                        placeholderTextColor={'rgba(255, 255, 255, 0.2)'}\n                        onContentSizeChange={({ nativeEvent: { contentSize: { width, height } } }) => {\n                            var h = height;\n                            // https://github.com/facebook/react-native/issues/29702\n                            if (Platform.OS == 'ios') {\n                                h = height + 25;\n                            }\n                            this.setState({ textInputHeight: h, contentWidth: width })\n                            // @ts-ignore\n                            if (typeof this.props.onContentSizeChange == 'function') {\n                                // @ts-ignore\n                                this.props.onContentSizeChange(width, h);\n                            }\n                        }}\n                        onChangeText={(text) => { this.setState({ currentText: text }); }}\n                        onSubmitEditing={() => this._sumit()}\n                    />\n                </View>\n                <TouchableOpacity\n                    style={styles.sendButton}\n                    onPress={() => {\n                        this._sumit();\n                    }}\n                >\n                    <Image resizeMode='contain' style={styles.icon} source={(this.state.currentText && this.state.currentText != \"\") ? this.iconPath.enable : this.iconPath.disable} />\n                </TouchableOpacity>\n            </View>\n        );\n    }\n}\nexport default ZegoInRoomMessageInput;\n\nconst styles = StyleSheet.create({\n    sendButton: {\n        position: 'absolute',\n        right: 10,\n        bottom: 8,\n        width: 29,\n        height: 29,\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    icon: {\n        position: 'absolute',\n        width: '100%',\n        height: '100%'\n    },\n    textInput: {\n        color: 'white',\n        paddingTop: 12.5,\n        paddingBottom: 12.5,\n    },\n    textInputContainer: {\n        marginLeft: 15,\n        paddingRight: 59,\n        height: '100%',\n        width: '100%',\n    },\n    container: {\n        position: 'absolute',\n        borderTopLeftRadius: 12,\n        borderTopRightRadius: 12,\n        width: '100%'\n    }\n\n});\n"],"mappings":"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"}