{"version":3,"names":["React","Fragment","Text","Image","TouchableOpacity","StyleSheet","ZegoUIKitInvitationService","zloginfo","zlogerror","ZegoUIKitInternal","ZegoAcceptInvitationButton","props","icon","text","inviterID","data","onPressed","onFailure","onWillPressed","backgroundColor","fontSize","color","width","height","borderRadius","verticalLayout","getImageSourceByPath","require","getRenderView","renderView","undefined","createElement","resizeMode","source","style","getCustomTextStyle","marginRight","create","getCustomContainerStyle","customContainer","flexDirection","onButtonPress","canAcceptInvitation","acceptInvitation","then","catch","_ref","code","message","notifyErrorUpdate","styles","container","onPress","alignItems","justifyContent"],"sources":["ZegoAcceptInvitationButton.tsx"],"sourcesContent":["import React, { Fragment }from 'react';\nimport { Text, Image, TouchableOpacity, StyleSheet } from 'react-native';\nimport ZegoUIKitInvitationService from '../services';\nimport { zloginfo, zlogerror } from '../../../utils/logger';\nimport ZegoUIKitInternal from '../../../components/internal/ZegoUIKitInternal';\n\nexport default function ZegoAcceptInvitationButton(props: any) {\n  const {\n    icon,\n    text, \n    inviterID,\n    data,\n    onPressed,\n    onFailure,\n    onWillPressed,\n    backgroundColor = '#30D059',\n    fontSize = 16,\n    color = '#FFFFFF',\n    width, // The default size was not given in the first release, so I can't add it here\n    height, // The default size was not given in the first release, so I can't add it here\n    borderRadius = 1000,\n    verticalLayout, // Default row layout, no layout parameters default to precedence icon\n  } = props;\n  const getImageSourceByPath = () => {\n    return require('../resources/button_call_audio_accept.png');\n  };\n  const getRenderView = () => {\n    let renderView;\n    if (verticalLayout === undefined) {\n      // Choose between icon and text\n      if (icon) {\n        renderView = <Image resizeMode=\"contain\" source={icon} />;\n      } else {\n        if (!text) {\n          renderView = (\n            <Image resizeMode=\"contain\" source={getImageSourceByPath()} />\n          );\n        } else {\n          renderView = <Text style={getCustomTextStyle(fontSize, color).text}>{text}</Text>;\n        }\n      }\n    } else {\n      // Both icon and text exist\n      renderView = <Fragment>\n        <Image resizeMode=\"contain\" source={icon || getImageSourceByPath()} style={{marginRight: 6}}/>\n        <Text style={getCustomTextStyle(fontSize, color).text}>{text}</Text>\n      </Fragment>\n    }\n    return renderView;\n  };\n  const getCustomTextStyle = (fontSize: number, color: string) => StyleSheet.create({\n    text: {\n      fontSize,\n      color,\n    },\n  });\n  const getCustomContainerStyle = (width: number, height: number, borderRadius: number, backgroundColor: string, verticalLayout: boolean) => StyleSheet.create({\n    customContainer: {\n      flexDirection: verticalLayout ? 'column' : 'row',\n      width,\n      height,\n      backgroundColor,\n      borderRadius,\n    },\n  });\n  const onButtonPress = () => {\n    const canAcceptInvitation = typeof onWillPressed === 'function' ? onWillPressed() : true;\n    if (!canAcceptInvitation) return;\n    zloginfo(\n      `[Components]Accept invitation start, inviterID: ${inviterID}, data: ${data}`\n    );\n    ZegoUIKitInvitationService.acceptInvitation(inviterID, data)\n      .then(() => {\n        zloginfo(`[Components]Accept invitation success`);\n        if (typeof onPressed === 'function') {\n          onPressed();\n        }\n      })\n      .catch(({ code, message }: any) => {\n        ZegoUIKitInternal.notifyErrorUpdate('AcceptInvitation', code, message);\n        if (typeof onFailure === 'function') {\n          onFailure({ code: code, message: message });\n        }\n        zlogerror(\n          `[Components]Accept invitation error, code: ${code}, message: ${message}`\n        );\n      });\n  };\n  return (\n    <TouchableOpacity\n      style={[\n        styles.container,\n        getCustomContainerStyle(width, height, borderRadius, backgroundColor, verticalLayout).customContainer\n      ]}\n      onPress={onButtonPress}\n    >\n      {getRenderView()}\n    </TouchableOpacity>\n  );\n}\nconst styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAO,OAAO;AACtC,SAASC,IAAI,EAAEC,KAAK,EAAEC,gBAAgB,EAAEC,UAAU,QAAQ,cAAc;AACxE,OAAOC,0BAA0B,MAAM,aAAa;AACpD,SAASC,QAAQ,EAAEC,SAAS,QAAQ,uBAAuB;AAC3D,OAAOC,iBAAiB,MAAM,gDAAgD;AAE9E,eAAe,SAASC,0BAA0BA,CAACC,KAAU,EAAE;EAC7D,MAAM;IACJC,IAAI;IACJC,IAAI;IACJC,SAAS;IACTC,IAAI;IACJC,SAAS;IACTC,SAAS;IACTC,aAAa;IACbC,eAAe,GAAG,SAAS;IAC3BC,QAAQ,GAAG,EAAE;IACbC,KAAK,GAAG,SAAS;IACjBC,KAAK;IAAE;IACPC,MAAM;IAAE;IACRC,YAAY,GAAG,IAAI;IACnBC,cAAc,CAAE;EAClB,CAAC,GAAGd,KAAK;EACT,MAAMe,oBAAoB,GAAGA,CAAA,KAAM;IACjC,OAAOC,OAAO,CAAC,2CAA2C,CAAC;EAC7D,CAAC;EACD,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAIC,UAAU;IACd,IAAIJ,cAAc,KAAKK,SAAS,EAAE;MAChC;MACA,IAAIlB,IAAI,EAAE;QACRiB,UAAU,gBAAG7B,KAAA,CAAA+B,aAAA,CAAC5B,KAAK;UAAC6B,UAAU,EAAC,SAAS;UAACC,MAAM,EAAErB;QAAK,CAAE,CAAC;MAC3D,CAAC,MAAM;QACL,IAAI,CAACC,IAAI,EAAE;UACTgB,UAAU,gBACR7B,KAAA,CAAA+B,aAAA,CAAC5B,KAAK;YAAC6B,UAAU,EAAC,SAAS;YAACC,MAAM,EAAEP,oBAAoB,CAAC;UAAE,CAAE,CAC9D;QACH,CAAC,MAAM;UACLG,UAAU,gBAAG7B,KAAA,CAAA+B,aAAA,CAAC7B,IAAI;YAACgC,KAAK,EAAEC,kBAAkB,CAACf,QAAQ,EAAEC,KAAK,CAAC,CAACR;UAAK,GAAEA,IAAW,CAAC;QACnF;MACF;IACF,CAAC,MAAM;MACL;MACAgB,UAAU,gBAAG7B,KAAA,CAAA+B,aAAA,CAAC9B,QAAQ,qBACpBD,KAAA,CAAA+B,aAAA,CAAC5B,KAAK;QAAC6B,UAAU,EAAC,SAAS;QAACC,MAAM,EAAErB,IAAI,IAAIc,oBAAoB,CAAC,CAAE;QAACQ,KAAK,EAAE;UAACE,WAAW,EAAE;QAAC;MAAE,CAAC,CAAC,eAC9FpC,KAAA,CAAA+B,aAAA,CAAC7B,IAAI;QAACgC,KAAK,EAAEC,kBAAkB,CAACf,QAAQ,EAAEC,KAAK,CAAC,CAACR;MAAK,GAAEA,IAAW,CAC3D,CAAC;IACb;IACA,OAAOgB,UAAU;EACnB,CAAC;EACD,MAAMM,kBAAkB,GAAGA,CAACf,QAAgB,EAAEC,KAAa,KAAKhB,UAAU,CAACgC,MAAM,CAAC;IAChFxB,IAAI,EAAE;MACJO,QAAQ;MACRC;IACF;EACF,CAAC,CAAC;EACF,MAAMiB,uBAAuB,GAAGA,CAAChB,KAAa,EAAEC,MAAc,EAAEC,YAAoB,EAAEL,eAAuB,EAAEM,cAAuB,KAAKpB,UAAU,CAACgC,MAAM,CAAC;IAC3JE,eAAe,EAAE;MACfC,aAAa,EAAEf,cAAc,GAAG,QAAQ,GAAG,KAAK;MAChDH,KAAK;MACLC,MAAM;MACNJ,eAAe;MACfK;IACF;EACF,CAAC,CAAC;EACF,MAAMiB,aAAa,GAAGA,CAAA,KAAM;IAC1B,MAAMC,mBAAmB,GAAG,OAAOxB,aAAa,KAAK,UAAU,GAAGA,aAAa,CAAC,CAAC,GAAG,IAAI;IACxF,IAAI,CAACwB,mBAAmB,EAAE;IAC1BnC,QAAQ,CACL,mDAAkDO,SAAU,WAAUC,IAAK,EAC9E,CAAC;IACDT,0BAA0B,CAACqC,gBAAgB,CAAC7B,SAAS,EAAEC,IAAI,CAAC,CACzD6B,IAAI,CAAC,MAAM;MACVrC,QAAQ,CAAE,uCAAsC,CAAC;MACjD,IAAI,OAAOS,SAAS,KAAK,UAAU,EAAE;QACnCA,SAAS,CAAC,CAAC;MACb;IACF,CAAC,CAAC,CACD6B,KAAK,CAACC,IAAA,IAA4B;MAAA,IAA3B;QAAEC,IAAI;QAAEC;MAAa,CAAC,GAAAF,IAAA;MAC5BrC,iBAAiB,CAACwC,iBAAiB,CAAC,kBAAkB,EAAEF,IAAI,EAAEC,OAAO,CAAC;MACtE,IAAI,OAAO/B,SAAS,KAAK,UAAU,EAAE;QACnCA,SAAS,CAAC;UAAE8B,IAAI,EAAEA,IAAI;UAAEC,OAAO,EAAEA;QAAQ,CAAC,CAAC;MAC7C;MACAxC,SAAS,CACN,8CAA6CuC,IAAK,cAAaC,OAAQ,EAC1E,CAAC;IACH,CAAC,CAAC;EACN,CAAC;EACD,oBACEhD,KAAA,CAAA+B,aAAA,CAAC3B,gBAAgB;IACf8B,KAAK,EAAE,CACLgB,MAAM,CAACC,SAAS,EAChBb,uBAAuB,CAAChB,KAAK,EAAEC,MAAM,EAAEC,YAAY,EAAEL,eAAe,EAAEM,cAAc,CAAC,CAACc,eAAe,CACrG;IACFa,OAAO,EAAEX;EAAc,GAEtBb,aAAa,CAAC,CACC,CAAC;AAEvB;AACA,MAAMsB,MAAM,GAAG7C,UAAU,CAACgC,MAAM,CAAC;EAC/Bc,SAAS,EAAE;IACTE,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE;EAClB;AACF,CAAC,CAAC"}