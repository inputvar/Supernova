{"version":3,"names":["React","useState","useEffect","Image","View","ZegoUIKitInternal","ZegoCameraStateIcon","props","userID","iconCameraOn","iconCameraOff","isOn","setIsOn","getImageSourceByPath","pathOn","require","pathOff","isCameraDeviceOn","callbackID","String","Math","floor","random","onSDKConnected","onCameraDeviceOn","id","on","undefined","getLocalUserInfo","createElement","source"],"sources":["ZegoCameraStateIcon.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Image, View } from \"react-native\";\nimport ZegoUIKitInternal from \"../internal/ZegoUIKitInternal\";\n\nexport default function ZegoCameraStateIcon(props: any) {\n    const { userID, iconCameraOn, iconCameraOff } = props;\n    const [isOn, setIsOn] = useState(true);// Default on\n    const getImageSourceByPath = () => {\n        const pathOn = iconCameraOn ? iconCameraOn : require(\"../internal/resources/white_icon_video_camera_on.png\");\n        const pathOff = iconCameraOff ? iconCameraOff : require(\"../internal/resources/white_icon_video_camera_off.png\");\n        return isOn ? pathOn : pathOff\n    }\n    \n    useEffect(() => {\n        setIsOn(ZegoUIKitInternal.isCameraDeviceOn(userID));\n    });\n    useEffect(() => {\n        const callbackID = 'ZegoCameraStateIcon' + String(Math.floor(Math.random() * 10000));\n        ZegoUIKitInternal.onSDKConnected(callbackID, () => {\n            setIsOn(ZegoUIKitInternal.isCameraDeviceOn(userID))\n        });\n        ZegoUIKitInternal.onCameraDeviceOn(callbackID, (id: string, on: boolean) => {\n            if (userID === undefined || userID === '') { // local user\n                if (id == ZegoUIKitInternal.getLocalUserInfo().userID) {\n                    setIsOn(on);\n                }\n            }\n            else if (id == userID) {\n                setIsOn(on);\n            }\n        });\n        return () => {\n            ZegoUIKitInternal.onSDKConnected(callbackID);\n            ZegoUIKitInternal.onCameraDeviceOn(callbackID);\n        }\n    }, []);\n\n    return (<View>\n        <Image source={getImageSourceByPath()} />\n    </View>)\n}"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,KAAK,EAAEC,IAAI,QAAQ,cAAc;AAC1C,OAAOC,iBAAiB,MAAM,+BAA+B;AAE7D,eAAe,SAASC,mBAAmBA,CAACC,KAAU,EAAE;EACpD,MAAM;IAAEC,MAAM;IAAEC,YAAY;IAAEC;EAAc,CAAC,GAAGH,KAAK;EACrD,MAAM,CAACI,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC,CAAC;EACvC,MAAMY,oBAAoB,GAAGA,CAAA,KAAM;IAC/B,MAAMC,MAAM,GAAGL,YAAY,GAAGA,YAAY,GAAGM,OAAO,CAAC,sDAAsD,CAAC;IAC5G,MAAMC,OAAO,GAAGN,aAAa,GAAGA,aAAa,GAAGK,OAAO,CAAC,uDAAuD,CAAC;IAChH,OAAOJ,IAAI,GAAGG,MAAM,GAAGE,OAAO;EAClC,CAAC;EAEDd,SAAS,CAAC,MAAM;IACZU,OAAO,CAACP,iBAAiB,CAACY,gBAAgB,CAACT,MAAM,CAAC,CAAC;EACvD,CAAC,CAAC;EACFN,SAAS,CAAC,MAAM;IACZ,MAAMgB,UAAU,GAAG,qBAAqB,GAAGC,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC;IACpFjB,iBAAiB,CAACkB,cAAc,CAACL,UAAU,EAAE,MAAM;MAC/CN,OAAO,CAACP,iBAAiB,CAACY,gBAAgB,CAACT,MAAM,CAAC,CAAC;IACvD,CAAC,CAAC;IACFH,iBAAiB,CAACmB,gBAAgB,CAACN,UAAU,EAAE,CAACO,EAAU,EAAEC,EAAW,KAAK;MACxE,IAAIlB,MAAM,KAAKmB,SAAS,IAAInB,MAAM,KAAK,EAAE,EAAE;QAAE;QACzC,IAAIiB,EAAE,IAAIpB,iBAAiB,CAACuB,gBAAgB,CAAC,CAAC,CAACpB,MAAM,EAAE;UACnDI,OAAO,CAACc,EAAE,CAAC;QACf;MACJ,CAAC,MACI,IAAID,EAAE,IAAIjB,MAAM,EAAE;QACnBI,OAAO,CAACc,EAAE,CAAC;MACf;IACJ,CAAC,CAAC;IACF,OAAO,MAAM;MACTrB,iBAAiB,CAACkB,cAAc,CAACL,UAAU,CAAC;MAC5Cb,iBAAiB,CAACmB,gBAAgB,CAACN,UAAU,CAAC;IAClD,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAQlB,KAAA,CAAA6B,aAAA,CAACzB,IAAI,qBACTJ,KAAA,CAAA6B,aAAA,CAAC1B,KAAK;IAAC2B,MAAM,EAAEjB,oBAAoB,CAAC;EAAE,CAAE,CACtC,CAAC;AACX"}