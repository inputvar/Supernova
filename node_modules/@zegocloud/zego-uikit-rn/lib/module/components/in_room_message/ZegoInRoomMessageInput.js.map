{"version":3,"names":["React","StyleSheet","View","TextInput","Image","TouchableOpacity","Platform","ZegoUIKitInternal","ZegoInRoomMessageInput","Component","constructor","props","_defineProperty","textInput","createRef","state","textInputHeight","contentWidth","currentText","iconPath","enable","iconSend","require","disable","iconSendDisable","focus","current","blur","clear","setState","onContentSizeChange","_sumit","sendInRoomMessage","onSumit","render","createElement","style","styles","container","height","backgroundColor","textInputContainer","ref","blurOnSubmit","multiline","autoFocus","editable","selectionColor","placeholder","placeholderTextColor","_ref","nativeEvent","contentSize","width","h","OS","onChangeText","text","onSubmitEditing","sendButton","onPress","resizeMode","icon","source","create","position","right","bottom","justifyContent","alignItems","color","paddingTop","paddingBottom","marginLeft","paddingRight","borderTopLeftRadius","borderTopRightRadius"],"sources":["ZegoInRoomMessageInput.tsx"],"sourcesContent":["import React from 'react';\nimport { StyleSheet, View, TextInput, Image, TouchableOpacity, Platform } from 'react-native';\nimport ZegoUIKitInternal from '../internal/ZegoUIKitInternal';\n\n// https://github.com/react-native-community/hooks#usekeyboard\nclass ZegoInRoomMessageInput extends React.Component {\n    textInput: any;\n    iconPath: any;\n    state: any;\n    constructor(props: any) {\n        super(props);\n        this.textInput = React.createRef();\n        this.state = {\n            textInputHeight: 45,\n            contentWidth: 0,\n            currentText: \"\"\n        };\n        this.iconPath = {\n            // @ts-ignore\n            enable: this.props.iconSend ? this.props.iconSend : require('../internal/resources/white_button_send_in_room_message_enable.png'),\n            // @ts-ignore\n            disable: this.props.iconSendDisable ? this.props.iconSendDisable : (this.props.iconSend ? this.props.iconSend : require('../internal/resources/white_button_send_in_room_message_disable.png'))\n        }\n    }\n\n    focus() {\n        this.textInput.current.focus();\n    }\n    blur() {\n        this.textInput.current.blur();\n    }\n    clear() {\n        this.textInput.current.clear();\n        this.setState({ textInputHeight: 45, contentWidth: 0, currentText: \"\" })\n        // @ts-ignore\n        if (typeof this.props.onContentSizeChange == 'function') {\n            // @ts-ignore\n            this.props.onContentSizeChange(0, 45);\n        }\n    }\n    _sumit() {\n        if (this.state.currentText != '') {\n            ZegoUIKitInternal.sendInRoomMessage(this.state.currentText);\n            this.clear();\n            this.blur();\n            // @ts-ignore\n            if (typeof this.props.onSumit == 'function') {\n                // @ts-ignore\n                this.props.onSumit();\n            }\n        }\n    }\n\n    render() {\n        return (\n            // @ts-ignore\n            <View style={[styles.container, { height: this.state.textInputHeight, backgroundColor: this.props.backgroundColor ? this.props.backgroundColor : 'rgba(0, 0, 0, 0.7500)' }]} >\n                <View style={styles.textInputContainer}>\n                    <TextInput\n                        ref={this.textInput}\n                        style={[styles.textInput]}\n                        blurOnSubmit={true}\n                        multiline={true}\n                        autoFocus={true}\n                        // @ts-ignore\n                        editable={this.props.enable ? this.props.enable : true}\n                        selectionColor={'#A653FF'}\n                        // @ts-ignore\n                        placeholder={this.props.placeholder ? this.props.placeholder : ''}\n                        placeholderTextColor={'rgba(255, 255, 255, 0.2)'}\n                        onContentSizeChange={({ nativeEvent: { contentSize: { width, height } } }) => {\n                            var h = height;\n                            // https://github.com/facebook/react-native/issues/29702\n                            if (Platform.OS == 'ios') {\n                                h = height + 25;\n                            }\n                            this.setState({ textInputHeight: h, contentWidth: width })\n                            // @ts-ignore\n                            if (typeof this.props.onContentSizeChange == 'function') {\n                                // @ts-ignore\n                                this.props.onContentSizeChange(width, h);\n                            }\n                        }}\n                        onChangeText={(text) => { this.setState({ currentText: text }); }}\n                        onSubmitEditing={() => this._sumit()}\n                    />\n                </View>\n                <TouchableOpacity\n                    style={styles.sendButton}\n                    onPress={() => {\n                        this._sumit();\n                    }}\n                >\n                    <Image resizeMode='contain' style={styles.icon} source={(this.state.currentText && this.state.currentText != \"\") ? this.iconPath.enable : this.iconPath.disable} />\n                </TouchableOpacity>\n            </View>\n        );\n    }\n}\nexport default ZegoInRoomMessageInput;\n\nconst styles = StyleSheet.create({\n    sendButton: {\n        position: 'absolute',\n        right: 10,\n        bottom: 8,\n        width: 29,\n        height: 29,\n        justifyContent: 'center',\n        alignItems: 'center'\n    },\n    icon: {\n        position: 'absolute',\n        width: '100%',\n        height: '100%'\n    },\n    textInput: {\n        color: 'white',\n        paddingTop: 12.5,\n        paddingBottom: 12.5,\n    },\n    textInputContainer: {\n        marginLeft: 15,\n        paddingRight: 59,\n        height: '100%',\n        width: '100%',\n    },\n    container: {\n        position: 'absolute',\n        borderTopLeftRadius: 12,\n        borderTopRightRadius: 12,\n        width: '100%'\n    }\n\n});\n"],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,EAAEC,IAAI,EAAEC,SAAS,EAAEC,KAAK,EAAEC,gBAAgB,EAAEC,QAAQ,QAAQ,cAAc;AAC7F,OAAOC,iBAAiB,MAAM,+BAA+B;;AAE7D;AACA,MAAMC,sBAAsB,SAASR,KAAK,CAACS,SAAS,CAAC;EAIjDC,WAAWA,CAACC,KAAU,EAAE;IACpB,KAAK,CAACA,KAAK,CAAC;IAACC,eAAA;IAAAA,eAAA;IAAAA,eAAA;IACb,IAAI,CAACC,SAAS,gBAAGb,KAAK,CAACc,SAAS,CAAC,CAAC;IAClC,IAAI,CAACC,KAAK,GAAG;MACTC,eAAe,EAAE,EAAE;MACnBC,YAAY,EAAE,CAAC;MACfC,WAAW,EAAE;IACjB,CAAC;IACD,IAAI,CAACC,QAAQ,GAAG;MACZ;MACAC,MAAM,EAAE,IAAI,CAACT,KAAK,CAACU,QAAQ,GAAG,IAAI,CAACV,KAAK,CAACU,QAAQ,GAAGC,OAAO,CAAC,oEAAoE,CAAC;MACjI;MACAC,OAAO,EAAE,IAAI,CAACZ,KAAK,CAACa,eAAe,GAAG,IAAI,CAACb,KAAK,CAACa,eAAe,GAAI,IAAI,CAACb,KAAK,CAACU,QAAQ,GAAG,IAAI,CAACV,KAAK,CAACU,QAAQ,GAAGC,OAAO,CAAC,qEAAqE;IACjM,CAAC;EACL;EAEAG,KAAKA,CAAA,EAAG;IACJ,IAAI,CAACZ,SAAS,CAACa,OAAO,CAACD,KAAK,CAAC,CAAC;EAClC;EACAE,IAAIA,CAAA,EAAG;IACH,IAAI,CAACd,SAAS,CAACa,OAAO,CAACC,IAAI,CAAC,CAAC;EACjC;EACAC,KAAKA,CAAA,EAAG;IACJ,IAAI,CAACf,SAAS,CAACa,OAAO,CAACE,KAAK,CAAC,CAAC;IAC9B,IAAI,CAACC,QAAQ,CAAC;MAAEb,eAAe,EAAE,EAAE;MAAEC,YAAY,EAAE,CAAC;MAAEC,WAAW,EAAE;IAAG,CAAC,CAAC;IACxE;IACA,IAAI,OAAO,IAAI,CAACP,KAAK,CAACmB,mBAAmB,IAAI,UAAU,EAAE;MACrD;MACA,IAAI,CAACnB,KAAK,CAACmB,mBAAmB,CAAC,CAAC,EAAE,EAAE,CAAC;IACzC;EACJ;EACAC,MAAMA,CAAA,EAAG;IACL,IAAI,IAAI,CAAChB,KAAK,CAACG,WAAW,IAAI,EAAE,EAAE;MAC9BX,iBAAiB,CAACyB,iBAAiB,CAAC,IAAI,CAACjB,KAAK,CAACG,WAAW,CAAC;MAC3D,IAAI,CAACU,KAAK,CAAC,CAAC;MACZ,IAAI,CAACD,IAAI,CAAC,CAAC;MACX;MACA,IAAI,OAAO,IAAI,CAAChB,KAAK,CAACsB,OAAO,IAAI,UAAU,EAAE;QACzC;QACA,IAAI,CAACtB,KAAK,CAACsB,OAAO,CAAC,CAAC;MACxB;IACJ;EACJ;EAEAC,MAAMA,CAAA,EAAG;IACL;MAAA;MACI;MACAlC,KAAA,CAAAmC,aAAA,CAACjC,IAAI;QAACkC,KAAK,EAAE,CAACC,MAAM,CAACC,SAAS,EAAE;UAAEC,MAAM,EAAE,IAAI,CAACxB,KAAK,CAACC,eAAe;UAAEwB,eAAe,EAAE,IAAI,CAAC7B,KAAK,CAAC6B,eAAe,GAAG,IAAI,CAAC7B,KAAK,CAAC6B,eAAe,GAAG;QAAwB,CAAC;MAAE,gBACxKxC,KAAA,CAAAmC,aAAA,CAACjC,IAAI;QAACkC,KAAK,EAAEC,MAAM,CAACI;MAAmB,gBACnCzC,KAAA,CAAAmC,aAAA,CAAChC,SAAS;QACNuC,GAAG,EAAE,IAAI,CAAC7B,SAAU;QACpBuB,KAAK,EAAE,CAACC,MAAM,CAACxB,SAAS,CAAE;QAC1B8B,YAAY,EAAE,IAAK;QACnBC,SAAS,EAAE,IAAK;QAChBC,SAAS,EAAE;QACX;QAAA;QACAC,QAAQ,EAAE,IAAI,CAACnC,KAAK,CAACS,MAAM,GAAG,IAAI,CAACT,KAAK,CAACS,MAAM,GAAG,IAAK;QACvD2B,cAAc,EAAE;QAChB;QAAA;QACAC,WAAW,EAAE,IAAI,CAACrC,KAAK,CAACqC,WAAW,GAAG,IAAI,CAACrC,KAAK,CAACqC,WAAW,GAAG,EAAG;QAClEC,oBAAoB,EAAE,0BAA2B;QACjDnB,mBAAmB,EAAEoB,IAAA,IAAyD;UAAA,IAAxD;YAAEC,WAAW,EAAE;cAAEC,WAAW,EAAE;gBAAEC,KAAK;gBAAEd;cAAO;YAAE;UAAE,CAAC,GAAAW,IAAA;UACrE,IAAII,CAAC,GAAGf,MAAM;UACd;UACA,IAAIjC,QAAQ,CAACiD,EAAE,IAAI,KAAK,EAAE;YACtBD,CAAC,GAAGf,MAAM,GAAG,EAAE;UACnB;UACA,IAAI,CAACV,QAAQ,CAAC;YAAEb,eAAe,EAAEsC,CAAC;YAAErC,YAAY,EAAEoC;UAAM,CAAC,CAAC;UAC1D;UACA,IAAI,OAAO,IAAI,CAAC1C,KAAK,CAACmB,mBAAmB,IAAI,UAAU,EAAE;YACrD;YACA,IAAI,CAACnB,KAAK,CAACmB,mBAAmB,CAACuB,KAAK,EAAEC,CAAC,CAAC;UAC5C;QACJ,CAAE;QACFE,YAAY,EAAGC,IAAI,IAAK;UAAE,IAAI,CAAC5B,QAAQ,CAAC;YAAEX,WAAW,EAAEuC;UAAK,CAAC,CAAC;QAAE,CAAE;QAClEC,eAAe,EAAEA,CAAA,KAAM,IAAI,CAAC3B,MAAM,CAAC;MAAE,CACxC,CACC,CAAC,eACP/B,KAAA,CAAAmC,aAAA,CAAC9B,gBAAgB;QACb+B,KAAK,EAAEC,MAAM,CAACsB,UAAW;QACzBC,OAAO,EAAEA,CAAA,KAAM;UACX,IAAI,CAAC7B,MAAM,CAAC,CAAC;QACjB;MAAE,gBAEF/B,KAAA,CAAAmC,aAAA,CAAC/B,KAAK;QAACyD,UAAU,EAAC,SAAS;QAACzB,KAAK,EAAEC,MAAM,CAACyB,IAAK;QAACC,MAAM,EAAG,IAAI,CAAChD,KAAK,CAACG,WAAW,IAAI,IAAI,CAACH,KAAK,CAACG,WAAW,IAAI,EAAE,GAAI,IAAI,CAACC,QAAQ,CAACC,MAAM,GAAG,IAAI,CAACD,QAAQ,CAACI;MAAQ,CAAE,CACpJ,CAChB;IAAC;EAEf;AACJ;AACA,eAAef,sBAAsB;AAErC,MAAM6B,MAAM,GAAGpC,UAAU,CAAC+D,MAAM,CAAC;EAC7BL,UAAU,EAAE;IACRM,QAAQ,EAAE,UAAU;IACpBC,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE,CAAC;IACTd,KAAK,EAAE,EAAE;IACTd,MAAM,EAAE,EAAE;IACV6B,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE;EAChB,CAAC;EACDP,IAAI,EAAE;IACFG,QAAQ,EAAE,UAAU;IACpBZ,KAAK,EAAE,MAAM;IACbd,MAAM,EAAE;EACZ,CAAC;EACD1B,SAAS,EAAE;IACPyD,KAAK,EAAE,OAAO;IACdC,UAAU,EAAE,IAAI;IAChBC,aAAa,EAAE;EACnB,CAAC;EACD/B,kBAAkB,EAAE;IAChBgC,UAAU,EAAE,EAAE;IACdC,YAAY,EAAE,EAAE;IAChBnC,MAAM,EAAE,MAAM;IACdc,KAAK,EAAE;EACX,CAAC;EACDf,SAAS,EAAE;IACP2B,QAAQ,EAAE,UAAU;IACpBU,mBAAmB,EAAE,EAAE;IACvBC,oBAAoB,EAAE,EAAE;IACxBvB,KAAK,EAAE;EACX;AAEJ,CAAC,CAAC"}