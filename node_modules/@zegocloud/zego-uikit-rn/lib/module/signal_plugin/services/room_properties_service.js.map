{"version":3,"names":["ZegoPluginRoomPropertiesCore","ZegoPluginRoomPropertiesService","constructor","shared","getInstance","updateRoomProperty","key","value","isDeleteAfterOwnerLeft","isForce","arguments","length","undefined","isUpdateOwner","attributes","config","deleteRoomProperties","keys","beginRoomPropertiesBatchOperation","endRoomPropertiesBatchOperation","queryRoomProperties","onRoomPropertyUpdated","callbackID","callback","onInRoomTextMessageReceived","_class","_defineProperty"],"sources":["room_properties_service.ts"],"sourcesContent":["import type { ZIMMessage, ZIMRoomAttributesUpdateInfo } from 'zego-zim-react-native';\nimport ZegoPluginRoomPropertiesCore from '../core/room_properties_core';\n\nexport default class ZegoPluginRoomPropertiesService {\n  static shared: ZegoPluginRoomPropertiesService;\n  constructor() {\n    if (!ZegoPluginRoomPropertiesService.shared) {\n      ZegoPluginRoomPropertiesService.shared = this;\n    }\n    return ZegoPluginRoomPropertiesService.shared;\n  }\n  static getInstance() {\n    if (!ZegoPluginRoomPropertiesService.shared) {\n      ZegoPluginRoomPropertiesService.shared =\n        new ZegoPluginRoomPropertiesService();\n    }\n    return ZegoPluginRoomPropertiesService.shared;\n  }\n  updateRoomProperty(\n    key: string,\n    value: string,\n    isDeleteAfterOwnerLeft: boolean,\n    isForce = false,\n    isUpdateOwner = false\n  ) {\n    const attributes = { [key]: value };\n    const config = {\n      isForce,\n      isDeleteAfterOwnerLeft,\n      isUpdateOwner,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().updateRoomProperty(\n      attributes,\n      config\n    );\n  }\n  deleteRoomProperties(keys: string[] = [], isForce: boolean) {\n    const config = {\n      isForce,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().deleteRoomProperties(\n      keys,\n      config\n    );\n  }\n  beginRoomPropertiesBatchOperation(\n    isDeleteAfterOwnerLeft = false,\n    isForce = false,\n    isUpdateOwner = false\n  ) {\n    const config = {\n      isDeleteAfterOwnerLeft,\n      isForce,\n      isUpdateOwner,\n    };\n    return ZegoPluginRoomPropertiesCore.getInstance().beginRoomPropertiesBatchOperation(\n      config\n    );\n  }\n  endRoomPropertiesBatchOperation() {\n    return ZegoPluginRoomPropertiesCore.getInstance().endRoomPropertiesBatchOperation();\n  }\n  queryRoomProperties() {\n    return ZegoPluginRoomPropertiesCore.getInstance().queryRoomProperties();\n  }\n  onRoomPropertyUpdated(callbackID: string, callback: (notifyData: ZIMRoomAttributesUpdateInfo) => void) {\n    ZegoPluginRoomPropertiesCore.getInstance().onRoomPropertyUpdated(\n      callbackID,\n      callback\n    );\n  }\n  onInRoomTextMessageReceived(callbackID: string, callback: (notifyData: { messageList: ZIMMessage[]; fromConversationID: string }) => void) {\n    ZegoPluginRoomPropertiesCore.getInstance().onInRoomTextMessageReceived(\n      callbackID,\n      callback\n    );\n  }\n}\n"],"mappings":";;;;AACA,OAAOA,4BAA4B,MAAM,8BAA8B;AAEvE,eAAe,MAAMC,+BAA+B,CAAC;EAEnDC,WAAWA,CAAA,EAAG;IACZ,IAAI,CAACD,+BAA+B,CAACE,MAAM,EAAE;MAC3CF,+BAA+B,CAACE,MAAM,GAAG,IAAI;IAC/C;IACA,OAAOF,+BAA+B,CAACE,MAAM;EAC/C;EACA,OAAOC,WAAWA,CAAA,EAAG;IACnB,IAAI,CAACH,+BAA+B,CAACE,MAAM,EAAE;MAC3CF,+BAA+B,CAACE,MAAM,GACpC,IAAIF,+BAA+B,CAAC,CAAC;IACzC;IACA,OAAOA,+BAA+B,CAACE,MAAM;EAC/C;EACAE,kBAAkBA,CAChBC,GAAW,EACXC,KAAa,EACbC,sBAA+B,EAG/B;IAAA,IAFAC,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IAAA,IACfG,aAAa,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IAErB,MAAMI,UAAU,GAAG;MAAE,CAACR,GAAG,GAAGC;IAAM,CAAC;IACnC,MAAMQ,MAAM,GAAG;MACbN,OAAO;MACPD,sBAAsB;MACtBK;IACF,CAAC;IACD,OAAOb,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACC,kBAAkB,CAClES,UAAU,EACVC,MACF,CAAC;EACH;EACAC,oBAAoBA,CAAA,EAAwC;IAAA,IAAvCC,IAAc,GAAAP,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;IAAA,IAAED,OAAgB,GAAAC,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;IACxD,MAAMG,MAAM,GAAG;MACbN;IACF,CAAC;IACD,OAAOT,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACY,oBAAoB,CACpEC,IAAI,EACJF,MACF,CAAC;EACH;EACAG,iCAAiCA,CAAA,EAI/B;IAAA,IAHAV,sBAAsB,GAAAE,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IAAA,IAC9BD,OAAO,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IAAA,IACfG,aAAa,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,KAAK;IAErB,MAAMK,MAAM,GAAG;MACbP,sBAAsB;MACtBC,OAAO;MACPI;IACF,CAAC;IACD,OAAOb,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACc,iCAAiC,CACjFH,MACF,CAAC;EACH;EACAI,+BAA+BA,CAAA,EAAG;IAChC,OAAOnB,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACe,+BAA+B,CAAC,CAAC;EACrF;EACAC,mBAAmBA,CAAA,EAAG;IACpB,OAAOpB,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACgB,mBAAmB,CAAC,CAAC;EACzE;EACAC,qBAAqBA,CAACC,UAAkB,EAAEC,QAA2D,EAAE;IACrGvB,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACiB,qBAAqB,CAC9DC,UAAU,EACVC,QACF,CAAC;EACH;EACAC,2BAA2BA,CAACF,UAAkB,EAAEC,QAAyF,EAAE;IACzIvB,4BAA4B,CAACI,WAAW,CAAC,CAAC,CAACoB,2BAA2B,CACpEF,UAAU,EACVC,QACF,CAAC;EACH;AACF;AAACE,MAAA,GA1EoBxB,+BAA+B;AAAAyB,eAAA,CAA/BzB,+BAA+B"}